

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ATS timeseries &mdash; resistics  documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css\custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="SPAM timeseries" href="SPAM-timeseries.html" />
    <link rel="prev" title="Timeseries data" href="../timeseries.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> resistics
          

          
            
            <img src="../../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.0.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../conventions.html">Conventions</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../formats.html">Data formats</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../timeseries.html">Timeseries data</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">ATS timeseries</a></li>
<li class="toctree-l3"><a class="reference internal" href="SPAM-timeseries.html">SPAM timeseries</a></li>
<li class="toctree-l3"><a class="reference internal" href="Phoenix-timeseries.html">Phoenix timeseries</a></li>
<li class="toctree-l3"><a class="reference internal" href="ascii-timeseries.html">ASCII timeseries</a></li>
<li class="toctree-l3"><a class="reference internal" href="internal-binary-format.html">Internal binary format</a></li>
<li class="toctree-l3"><a class="reference internal" href="interpolation-to-second.html">Interpolation to second</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../calibration.html">Calibration data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advanced.html">Advanced</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cookbook.html">Cookbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modules.html">API reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../roadmap.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bibliography.html">Bibliography</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../donate.html">Donate</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contact.html">Contact</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">resistics</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../formats.html">Data formats</a> &raquo;</li>
        
          <li><a href="../timeseries.html">Timeseries data</a> &raquo;</li>
        
      <li>ATS timeseries</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/formats/timeseries/ATS-timeseries.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ats-timeseries">
<h1>ATS timeseries<a class="headerlink" href="#ats-timeseries" title="Permalink to this headline">¶</a></h1>
<p>ATS format is a one of the more straight-forward formats to support. Header files come in XML format and the data is stored in binary format with a single file for each channel. The data files have extension .ats. An example data folder for ATS is shown below:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>meas_2012-02-10_11-05-00
├── 059_V01_2012-02-10_11-05-00_0.xml
├── 059_V01_C00_R000_TEx_BL_4096H.ats
├── 059_V01_C01_R000_TEy_BL_4096H.ats
├── 059_V01_C02_R000_THx_BL_4096H.ats
├── 059_V01_C02_R000_THy_BL_4096H.ats
└── 059_V01_C02_R000_THz_BL_4096H.ats
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>In order for resistics to recognise an ATS data folder, the following have to be present:</p>
<ul class="last simple">
<li>A header file with extension .xml</li>
<li>Data files with extension .ats</li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Unscaled units for ATS data are as follows:</p>
<ul class="last simple">
<li>All channels are in integer counts</li>
</ul>
</div>
<p>ATS files are opened in resistics using the <a class="reference internal" href="../../api/resistics.ioHandlers.dataReaderATS.html#resistics.ioHandlers.dataReaderATS.DataReaderATS" title="resistics.ioHandlers.dataReaderATS.DataReaderATS"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataReaderATS</span></code></a> class. An example is provided below:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">resistics.ioHandlers.dataReaderATS</span> <span class="kn">import</span> <span class="n">DataReaderATS</span>

<span class="c1"># read ats data</span>
<span class="n">atsPath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;timeData&quot;</span><span class="p">,</span> <span class="s2">&quot;ats&quot;</span><span class="p">)</span>
<span class="n">atsReader</span> <span class="o">=</span> <span class="n">DataReaderATS</span><span class="p">(</span><span class="n">atsPath</span><span class="p">)</span>
<span class="n">atsReader</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<p><code class="code python docutils literal notranslate"><span class="name"><span class="pre">atsReader</span></span><span class="operator"><span class="pre">.</span></span><span class="name"><span class="pre">printInfo</span></span><span class="punctuation"><span class="pre">()</span></span></code> prints the measurement information out to the terminal and displays various recording parameters.</p>
<div class="highlight-text notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></div></td><td class="code"><div class="highlight"><pre><span></span>14:18:00 DataReaderATS: ####################
14:18:00 DataReaderATS: DATAREADERATS INFO BEGIN
14:18:00 DataReaderATS: ####################
14:18:00 DataReaderATS: Data Path = testData\ats
14:18:00 DataReaderATS: Global Headers
14:18:00 DataReaderATS: {&#39;start_time&#39;: &#39;02:35:00.000000&#39;, &#39;start_date&#39;: &#39;2016-02-21&#39;, &#39;stop_time&#39;: &#39;06:27:12.375000&#39;, &#39;stop_date&#39;: &#39;2016-02-21&#39;, &#39;meas_channels&#39;: 5, &#39;sample_freq&#39;: 128.0, &#39;num_samples&#39;: 1783345}
14:18:00 DataReaderATS: Channels found:
14:18:00 DataReaderATS: [&#39;Ex&#39;, &#39;Ey&#39;, &#39;Hx&#39;, &#39;Hy&#39;, &#39;Hz&#39;]
14:18:00 DataReaderATS: Channel Map
14:18:00 DataReaderATS: {&#39;Ex&#39;: 0, &#39;Ey&#39;: 1, &#39;Hx&#39;: 2, &#39;Hy&#39;: 3, &#39;Hz&#39;: 4}
14:18:00 DataReaderATS: Channel Headers
14:18:00 DataReaderATS: Ex
14:18:00 DataReaderATS: {&#39;gain_stage1&#39;: 16, &#39;gain_stage2&#39;: 1, &#39;hchopper&#39;: 0, &#39;echopper&#39;: 0, &#39;start_time&#39;: &#39;02:35:00.000000&#39;, &#39;start_date&#39;: &#39;2016-02-21&#39;, &#39;sample_freq&#39;: 128.0, &#39;num_samples&#39;: 1783345, &#39;ats_data_file&#39;: &#39;443_V01_C00_R001_TEx_BL_128H.ats&#39;, &#39;sensor_type&#39;: &#39;EFP06&#39;, &#39;channel_type&#39;: &#39;Ex&#39;, &#39;ts_lsb&#39;: -1.76666e-06, &#39;pos_x1&#39;: -45.0, &#39;pos_x2&#39;: 41.0, &#39;pos_y1&#39;: 0.0, &#39;pos_y2&#39;: 0.0, &#39;pos_z1&#39;: 0.0, &#39;pos_z2&#39;: 0.0, &#39;sensor_sernum&#39;: 0, &#39;lsb_applied&#39;: False, &#39;stop_date&#39;: &#39;2016-02-21&#39;, &#39;stop_time&#39;: &#39;06:27:12.375000&#39;}
14:18:00 DataReaderATS: Ey
14:18:00 DataReaderATS: {&#39;gain_stage1&#39;: 16, &#39;gain_stage2&#39;: 1, &#39;hchopper&#39;: 0, &#39;echopper&#39;: 0, &#39;start_time&#39;: &#39;02:35:00.000000&#39;, &#39;start_date&#39;: &#39;2016-02-21&#39;, &#39;sample_freq&#39;: 128.0, &#39;num_samples&#39;: 1783345, &#39;ats_data_file&#39;: &#39;443_V01_C01_R001_TEy_BL_128H.ats&#39;, &#39;sensor_type&#39;: &#39;EFP06&#39;, &#39;channel_type&#39;: &#39;Ey&#39;, &#39;ts_lsb&#39;: -1.76514e-06, &#39;pos_x1&#39;: 0.0, &#39;pos_x2&#39;: 0.0, &#39;pos_y1&#39;: -45.0, &#39;pos_y2&#39;: 41.1, &#39;pos_z1&#39;: 0.0, &#39;pos_z2&#39;: 0.0, &#39;sensor_sernum&#39;: 0, &#39;lsb_applied&#39;: False, &#39;stop_date&#39;: &#39;2016-02-21&#39;, &#39;stop_time&#39;: &#39;06:27:12.375000&#39;}
14:18:00 DataReaderATS: Hx
14:18:00 DataReaderATS: {&#39;gain_stage1&#39;: 2, &#39;gain_stage2&#39;: 1, &#39;hchopper&#39;: 1, &#39;echopper&#39;: 0, &#39;start_time&#39;: &#39;02:35:00.000000&#39;, &#39;start_date&#39;: &#39;2016-02-21&#39;, &#39;sample_freq&#39;: 128.0, &#39;num_samples&#39;: 1783345, &#39;ats_data_file&#39;: &#39;443_V01_C02_R001_THx_BL_128H.ats&#39;, &#39;sensor_type&#39;: &#39;MFS06e&#39;, &#39;channel_type&#39;: &#39;Hx&#39;, &#39;ts_lsb&#39;: -0.000112802, &#39;pos_x1&#39;: 0.0, &#39;pos_x2&#39;: 0.0, &#39;pos_y1&#39;: 0.0, &#39;pos_y2&#39;: 0.0, &#39;pos_z1&#39;: 0.0, &#39;pos_z2&#39;: 0.0, &#39;sensor_sernum&#39;: 612, &#39;lsb_applied&#39;: False, &#39;stop_date&#39;: &#39;2016-02-21&#39;, &#39;stop_time&#39;: &#39;06:27:12.375000&#39;}
14:18:00 DataReaderATS: Hy
14:18:00 DataReaderATS: {&#39;gain_stage1&#39;: 1, &#39;gain_stage2&#39;: 1, &#39;hchopper&#39;: 1, &#39;echopper&#39;: 0, &#39;start_time&#39;: &#39;02:35:00.000000&#39;, &#39;start_date&#39;: &#39;2016-02-21&#39;, &#39;sample_freq&#39;: 128.0, &#39;num_samples&#39;: 1783345, &#39;ats_data_file&#39;: &#39;443_V01_C03_R001_THy_BL_128H.ats&#39;, &#39;sensor_type&#39;: &#39;MFS06e&#39;, &#39;channel_type&#39;: &#39;Hy&#39;, &#39;ts_lsb&#39;: -0.000225735, &#39;pos_x1&#39;: 0.0, &#39;pos_x2&#39;: 0.0, &#39;pos_y1&#39;: 0.0, &#39;pos_y2&#39;: 0.0, &#39;pos_z1&#39;: 0.0, &#39;pos_z2&#39;: 0.0, &#39;sensor_sernum&#39;: 613, &#39;lsb_applied&#39;: False, &#39;stop_date&#39;: &#39;2016-02-21&#39;, &#39;stop_time&#39;: &#39;06:27:12.375000&#39;}
14:18:00 DataReaderATS: Hz
14:18:00 DataReaderATS: {&#39;gain_stage1&#39;: 16, &#39;gain_stage2&#39;: 1, &#39;hchopper&#39;: 1, &#39;echopper&#39;: 0, &#39;start_time&#39;: &#39;02:35:00.000000&#39;, &#39;start_date&#39;: &#39;2016-02-21&#39;, &#39;sample_freq&#39;: 128.0, &#39;num_samples&#39;: 1783345, &#39;ats_data_file&#39;: &#39;443_V01_C04_R001_THz_BL_128H.ats&#39;, &#39;sensor_type&#39;: &#39;MFS06e&#39;, &#39;channel_type&#39;: &#39;Hz&#39;, &#39;ts_lsb&#39;: -1.41103e-05, &#39;pos_x1&#39;: 0.0, &#39;pos_x2&#39;: 0.0, &#39;pos_y1&#39;: 0.0, &#39;pos_y2&#39;: 0.0, &#39;pos_z1&#39;: 0.0, &#39;pos_z2&#39;: 0.0, &#39;sensor_sernum&#39;: 0, &#39;lsb_applied&#39;: False, &#39;stop_date&#39;: &#39;2016-02-21&#39;, &#39;stop_time&#39;: &#39;06:27:12.375000&#39;}
14:18:00 DataReaderATS: Note: Field units used. Physical data has units mV/km for electric fields and mV for magnetic fields
14:18:00 DataReaderATS: Note: To get magnetic field in nT, please calibrate
14:18:00 DataReaderATS: ####################
14:18:00 DataReaderATS: DATAREADERATS INFO END
14:18:00 DataReaderATS: ####################
</pre></div>
</td></tr></table></div>
<p>This shows the headers read in by resistics and their values. There are both global headers, which apply to all the channels, and channel specific headers.</p>
<p>Resistics does not immediately load timeseries data into memory. In order to read the data from the files, it needs to be requested.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># get unscaled data</span>
<span class="n">startTime</span> <span class="o">=</span> <span class="s2">&quot;2016-02-21 03:00:00&quot;</span>
<span class="n">stopTime</span> <span class="o">=</span> <span class="s2">&quot;2016-02-21 04:00:00&quot;</span>
<span class="n">unscaledData</span> <span class="o">=</span> <span class="n">atsReader</span><span class="o">.</span><span class="n">getUnscaledData</span><span class="p">(</span><span class="n">startTime</span><span class="p">,</span> <span class="n">stopTime</span><span class="p">)</span>
<span class="n">unscaledData</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<p><code class="code python docutils literal notranslate"><span class="name"><span class="pre">atsReader</span></span><span class="operator"><span class="pre">.</span></span><span class="name"><span class="pre">getUnscaledData</span></span><span class="punctuation"><span class="pre">(</span></span><span class="name"><span class="pre">startTime</span></span><span class="punctuation"><span class="pre">,</span></span> <span class="name"><span class="pre">stopTime</span></span><span class="punctuation"><span class="pre">)</span></span></code> will read timeseries data from the data files and returns a <a class="reference internal" href="../../api/resistics.dataObjects.timeData.html#resistics.dataObjects.timeData.TimeData" title="resistics.dataObjects.timeData.TimeData"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeData</span></code></a> object. Unscaled data is the raw data without any conversion to field units. The units for unscaled data are not consistent between data formats and in the case of ATS data are integer counts.</p>
<p>After reading in some data, it is natural to view it. <a class="reference internal" href="../../api/resistics.dataObjects.timeData.html#resistics.dataObjects.timeData.TimeData" title="resistics.dataObjects.timeData.TimeData"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeData</span></code></a> can be viewed using the <a class="reference internal" href="../../api/resistics.dataObjects.timeData.html#resistics.dataObjects.timeData.TimeData.view" title="resistics.dataObjects.timeData.TimeData.view"><code class="xref py py-meth docutils literal notranslate"><span class="pre">view()</span></code></a> method of the class. Passing a matplotlib figure object to this method allows for more control over the layout of the plot.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># view unscaled data</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">unscaledData</span><span class="o">.</span><span class="n">numChans</span><span class="p">))</span>
<span class="n">unscaledData</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">sampleStop</span><span class="o">=</span><span class="mi">20000</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;ats_unscaledData.png&quot;</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
<div class="align-center figure" id="id1">
<img alt="alternate text" src="../../_images/ats_unscaledData.png" />
<p class="caption"><span class="caption-text">Viewing unscaled data</span></p>
</div>
<p>Physical data, which is converted to field units, can be returned by using the <a class="reference internal" href="../../api/resistics.ioHandlers.dataReader.html#resistics.ioHandlers.dataReader.DataReader.getPhysicalData" title="resistics.ioHandlers.dataReader.DataReader.getPhysicalData"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getPhysicalData()</span></code></a> method. If physical data for the whole recording is required, an alternative is to use <a class="reference internal" href="../../api/resistics.ioHandlers.dataReader.html#resistics.ioHandlers.dataReader.DataReader.getPhysicalSamples" title="resistics.ioHandlers.dataReader.DataReader.getPhysicalSamples"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getPhysicalSamples()</span></code></a>, which does not require specification of a start and end time.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>24
25
26
27
28
29
30
31</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># get physical data, which is converted to field units</span>
<span class="n">physicalATSData</span> <span class="o">=</span> <span class="n">atsReader</span><span class="o">.</span><span class="n">getPhysicalData</span><span class="p">(</span><span class="n">startTime</span><span class="p">,</span> <span class="n">stopTime</span><span class="p">)</span>
<span class="n">physicalATSData</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">physicalATSData</span><span class="o">.</span><span class="n">numChans</span><span class="p">))</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">physicalATSData</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">sampleStop</span><span class="o">=</span><span class="mi">20000</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;ats_physicalData.png&quot;</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
<div class="align-center figure" id="id2">
<img alt="alternate text" src="../../_images/ats_physicalData.png" />
<p class="caption"><span class="caption-text">Viewing data scaled to field units</span></p>
</div>
<p>There are a few helpful methods built in to resistics for manipulating timeseries data. These are generally in <a class="reference internal" href="../../api/resistics.utilities.html#module-resistics.utilities" title="resistics.utilities"><code class="xref py py-mod docutils literal notranslate"><span class="pre">utilities</span></code></a>. In the example below, the time data is low pass filtered at 4Hz to remove any powerline or rail noise that might be in the data.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>33
34
35
36
37
38
39
40
41</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># all we see is 50Hz and 16Hz noise - apply low pass filter</span>
<span class="kn">from</span> <span class="nn">resistics.utilities.utilsFilter</span> <span class="kn">import</span> <span class="n">lowPass</span>

<span class="n">filteredATSData</span> <span class="o">=</span> <span class="n">lowPass</span><span class="p">(</span><span class="n">physicalATSData</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">filteredATSData</span><span class="o">.</span><span class="n">numChans</span><span class="p">))</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">filteredATSData</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">sampleStop</span><span class="o">=</span><span class="mi">20000</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;ats_filteredData.png&quot;</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
<div class="align-center figure" id="id3">
<img alt="alternate text" src="../../_images/ats_filteredData.png" />
<p class="caption"><span class="caption-text">Viewing physical data low pass filtered to 4Hz</span></p>
</div>
<p>Resistics supports the writing out of data in an <a class="reference internal" href="internal-binary-format.html"><span class="doc">internal</span></a> format. An examples of converting a whole dataset from ATS format to internal format is shown below.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>43
44
45
46
47
48
49</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># now write out as internal format</span>
<span class="kn">from</span> <span class="nn">resistics.ioHandlers.dataWriterInternal</span> <span class="kn">import</span> <span class="n">DataWriterInternal</span>

<span class="n">ats_2intenrnal</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;timeData&quot;</span><span class="p">,</span> <span class="s2">&quot;atsInternal&quot;</span><span class="p">)</span>
<span class="n">writer</span> <span class="o">=</span> <span class="n">DataWriterInternal</span><span class="p">()</span>
<span class="n">writer</span><span class="o">.</span><span class="n">setOutPath</span><span class="p">(</span><span class="n">ats_2intenrnal</span><span class="p">)</span>
<span class="n">writer</span><span class="o">.</span><span class="n">writeDataset</span><span class="p">(</span><span class="n">atsReader</span><span class="p">,</span> <span class="n">physical</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>In nearly every case, it is best to write out data in physical format. When this is done, no further scaling will be applied when the data is read in again.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Data can be written out in unscaled format. However, each format applies different scalings when data is read in, so it is possible to write out unscaled samples in internal format and then upon reading, have it scaled incorrectly. Therefore, it is nearly always best to write out physical samples.</p>
</div>
<p>Writing out an internally formatted dataset will additionally write out a set of comments. These comments keep track of what has been done to the timeseries data and are there to improve repoducibility and traceability. Read more about comments <a class="reference internal" href="../../features/comments.html"><span class="doc">here</span></a>. The comments for this internally formatted dataset are:</p>
<div class="highlight-text notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span>Unscaled data 2016-02-21 02:35:00 to 2016-02-21 06:27:12.375000 read in from measurement timeData\ats, samples 0 to 1783344
Sampling frequency 128.0
Scaling channel Ex with scalar -1.76666e-06 to give mV
Dividing channel Ex by electrode distance 0.086 km to give mV/km
Scaling channel Ey with scalar -1.76514e-06 to give mV
Dividing channel Ey by electrode distance 0.0861 km to give mV/km
Scaling channel Hx with scalar -0.000112802 to give mV
Scaling channel Hy with scalar -0.000225735 to give mV
Scaling channel Hz with scalar -1.41103e-05 to give mV
Remove zeros: False, remove nans: False, remove average: True
Dataset written to timeData\atsInternal on 2019-03-24 16:56:22.549355
</pre></div>
</td></tr></table></div>
<p>The internal format data can be read in and visually compared to the original data.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># read in internal format</span>
<span class="kn">from</span> <span class="nn">resistics.ioHandlers.dataReaderInternal</span> <span class="kn">import</span> <span class="n">DataReaderInternal</span>

<span class="n">internalReader</span> <span class="o">=</span> <span class="n">DataReaderInternal</span><span class="p">(</span><span class="n">ats_2intenrnal</span><span class="p">)</span>
<span class="n">internalReader</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>
<span class="n">internalReader</span><span class="o">.</span><span class="n">printComments</span><span class="p">()</span>
<span class="n">physicalInternalData</span> <span class="o">=</span> <span class="n">internalReader</span><span class="o">.</span><span class="n">getPhysicalData</span><span class="p">(</span><span class="n">startTime</span><span class="p">,</span> <span class="n">stopTime</span><span class="p">)</span>
<span class="n">physicalInternalData</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>

<span class="c1"># now plot the two datasets together</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">physicalATSData</span><span class="o">.</span><span class="n">numChans</span><span class="p">))</span>
<span class="n">physicalATSData</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">sampleStop</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;ATS format&quot;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">physicalInternalData</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">sampleStop</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Internal format&quot;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;ats_vs_internal.png&quot;</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
<div class="align-center figure" id="id4">
<img alt="alternate text" src="../../_images/ats_vs_internal.png" />
<p class="caption"><span class="caption-text">Original ATS data versus the internally formatted data</span></p>
</div>
<p>Additionally, resistics can write out data in ASCII format, which allows users to view the data values, plot them in other software or otherwise transport the data for external analysis.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>68
69
70
71
72
73
74</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># now write out as ascii format</span>
<span class="kn">from</span> <span class="nn">resistics.ioHandlers.dataWriterAscii</span> <span class="kn">import</span> <span class="n">DataWriterAscii</span>

<span class="n">ats_2ascii</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;timeData&quot;</span><span class="p">,</span> <span class="s2">&quot;atsAscii&quot;</span><span class="p">)</span>
<span class="n">writer</span> <span class="o">=</span> <span class="n">DataWriterAscii</span><span class="p">()</span>
<span class="n">writer</span><span class="o">.</span><span class="n">setOutPath</span><span class="p">(</span><span class="n">ats_2ascii</span><span class="p">)</span>
<span class="n">writer</span><span class="o">.</span><span class="n">writeDataset</span><span class="p">(</span><span class="n">atsReader</span><span class="p">,</span> <span class="n">physical</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>Again, this dataset is written out with a set of comments.</p>
<div class="highlight-text notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span>Unscaled data 2016-02-21 02:35:00 to 2016-02-21 06:27:12.375000 read in from measurement timeData\ats, samples 0 to 1783344
Sampling frequency 128.0
Scaling channel Ex with scalar -1.76666e-06 to give mV
Dividing channel Ex by electrode distance 0.086 km to give mV/km
Scaling channel Ey with scalar -1.76514e-06 to give mV
Dividing channel Ey by electrode distance 0.0861 km to give mV/km
Scaling channel Hx with scalar -0.000112802 to give mV
Scaling channel Hy with scalar -0.000225735 to give mV
Scaling channel Hz with scalar -1.41103e-05 to give mV
Remove zeros: False, remove nans: False, remove average: True
Dataset written to timeData\atsAscii on 2019-03-24 16:56:26.695668
</pre></div>
</td></tr></table></div>
<p>The same exercise of reading back the ascii data and comparing it to the original can be done. The procedure is as below:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># read in ascii format</span>
<span class="kn">from</span> <span class="nn">resistics.ioHandlers.dataReaderAscii</span> <span class="kn">import</span> <span class="n">DataReaderAscii</span>

<span class="n">asciiReader</span> <span class="o">=</span> <span class="n">DataReaderAscii</span><span class="p">(</span><span class="n">ats_2ascii</span><span class="p">)</span>
<span class="n">asciiReader</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>
<span class="n">asciiReader</span><span class="o">.</span><span class="n">printComments</span><span class="p">()</span>
<span class="n">physicalAsciiData</span> <span class="o">=</span> <span class="n">asciiReader</span><span class="o">.</span><span class="n">getPhysicalData</span><span class="p">(</span><span class="n">startTime</span><span class="p">,</span> <span class="n">stopTime</span><span class="p">)</span>
<span class="n">physicalAsciiData</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>

<span class="c1"># now plot the two datasets together</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">physicalATSData</span><span class="o">.</span><span class="n">numChans</span><span class="p">))</span>
<span class="n">physicalATSData</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">sampleStop</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;ATS format&quot;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">physicalAsciiData</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">sampleStop</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Ascii format&quot;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;ats_vs_ascii.png&quot;</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
<div class="align-center figure" id="id5">
<img alt="alternate text" src="../../_images/ats_vs_ascii.png" />
<p class="caption"><span class="caption-text">Original ATS data versus the ASCII formatted data</span></p>
</div>
<div class="section" id="complete-example-script">
<h2>Complete example script<a class="headerlink" href="#complete-example-script" title="Permalink to this headline">¶</a></h2>
<p>For the purposes of clarity, the complete example script is shown below.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">resistics.ioHandlers.dataReaderATS</span> <span class="kn">import</span> <span class="n">DataReaderATS</span>

<span class="c1"># read ats data</span>
<span class="n">atsPath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;timeData&quot;</span><span class="p">,</span> <span class="s2">&quot;ats&quot;</span><span class="p">)</span>
<span class="n">atsReader</span> <span class="o">=</span> <span class="n">DataReaderATS</span><span class="p">(</span><span class="n">atsPath</span><span class="p">)</span>
<span class="n">atsReader</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>

<span class="c1"># get unscaled data</span>
<span class="n">startTime</span> <span class="o">=</span> <span class="s2">&quot;2016-02-21 03:00:00&quot;</span>
<span class="n">stopTime</span> <span class="o">=</span> <span class="s2">&quot;2016-02-21 04:00:00&quot;</span>
<span class="n">unscaledData</span> <span class="o">=</span> <span class="n">atsReader</span><span class="o">.</span><span class="n">getUnscaledData</span><span class="p">(</span><span class="n">startTime</span><span class="p">,</span> <span class="n">stopTime</span><span class="p">)</span>
<span class="n">unscaledData</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>

<span class="c1"># view unscaled data</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">unscaledData</span><span class="o">.</span><span class="n">numChans</span><span class="p">))</span>
<span class="n">unscaledData</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">sampleStop</span><span class="o">=</span><span class="mi">20000</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;ats_unscaledData.png&quot;</span><span class="p">))</span>

<span class="c1"># get physical data, which is converted to field units</span>
<span class="n">physicalATSData</span> <span class="o">=</span> <span class="n">atsReader</span><span class="o">.</span><span class="n">getPhysicalData</span><span class="p">(</span><span class="n">startTime</span><span class="p">,</span> <span class="n">stopTime</span><span class="p">)</span>
<span class="n">physicalATSData</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">physicalATSData</span><span class="o">.</span><span class="n">numChans</span><span class="p">))</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">physicalATSData</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">sampleStop</span><span class="o">=</span><span class="mi">20000</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;ats_physicalData.png&quot;</span><span class="p">))</span>

<span class="c1"># all we see is 50Hz and 16Hz noise - apply low pass filter</span>
<span class="kn">from</span> <span class="nn">resistics.utilities.utilsFilter</span> <span class="kn">import</span> <span class="n">lowPass</span>

<span class="n">filteredATSData</span> <span class="o">=</span> <span class="n">lowPass</span><span class="p">(</span><span class="n">physicalATSData</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">filteredATSData</span><span class="o">.</span><span class="n">numChans</span><span class="p">))</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">filteredATSData</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">sampleStop</span><span class="o">=</span><span class="mi">20000</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;ats_filteredData.png&quot;</span><span class="p">))</span>

<span class="c1"># now write out as internal format</span>
<span class="kn">from</span> <span class="nn">resistics.ioHandlers.dataWriterInternal</span> <span class="kn">import</span> <span class="n">DataWriterInternal</span>

<span class="n">ats_2intenrnal</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;timeData&quot;</span><span class="p">,</span> <span class="s2">&quot;atsInternal&quot;</span><span class="p">)</span>
<span class="n">writer</span> <span class="o">=</span> <span class="n">DataWriterInternal</span><span class="p">()</span>
<span class="n">writer</span><span class="o">.</span><span class="n">setOutPath</span><span class="p">(</span><span class="n">ats_2intenrnal</span><span class="p">)</span>
<span class="n">writer</span><span class="o">.</span><span class="n">writeDataset</span><span class="p">(</span><span class="n">atsReader</span><span class="p">,</span> <span class="n">physical</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="c1"># read in internal format</span>
<span class="kn">from</span> <span class="nn">resistics.ioHandlers.dataReaderInternal</span> <span class="kn">import</span> <span class="n">DataReaderInternal</span>

<span class="n">internalReader</span> <span class="o">=</span> <span class="n">DataReaderInternal</span><span class="p">(</span><span class="n">ats_2intenrnal</span><span class="p">)</span>
<span class="n">internalReader</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>
<span class="n">internalReader</span><span class="o">.</span><span class="n">printComments</span><span class="p">()</span>
<span class="n">physicalInternalData</span> <span class="o">=</span> <span class="n">internalReader</span><span class="o">.</span><span class="n">getPhysicalData</span><span class="p">(</span><span class="n">startTime</span><span class="p">,</span> <span class="n">stopTime</span><span class="p">)</span>
<span class="n">physicalInternalData</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>

<span class="c1"># now plot the two datasets together</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">physicalATSData</span><span class="o">.</span><span class="n">numChans</span><span class="p">))</span>
<span class="n">physicalATSData</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">sampleStop</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;ATS format&quot;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">physicalInternalData</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">sampleStop</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Internal format&quot;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;ats_vs_internal.png&quot;</span><span class="p">))</span>

<span class="c1"># now write out as ascii format</span>
<span class="kn">from</span> <span class="nn">resistics.ioHandlers.dataWriterAscii</span> <span class="kn">import</span> <span class="n">DataWriterAscii</span>

<span class="n">ats_2ascii</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;timeData&quot;</span><span class="p">,</span> <span class="s2">&quot;atsAscii&quot;</span><span class="p">)</span>
<span class="n">writer</span> <span class="o">=</span> <span class="n">DataWriterAscii</span><span class="p">()</span>
<span class="n">writer</span><span class="o">.</span><span class="n">setOutPath</span><span class="p">(</span><span class="n">ats_2ascii</span><span class="p">)</span>
<span class="n">writer</span><span class="o">.</span><span class="n">writeDataset</span><span class="p">(</span><span class="n">atsReader</span><span class="p">,</span> <span class="n">physical</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="c1"># read in ascii format</span>
<span class="kn">from</span> <span class="nn">resistics.ioHandlers.dataReaderAscii</span> <span class="kn">import</span> <span class="n">DataReaderAscii</span>

<span class="n">asciiReader</span> <span class="o">=</span> <span class="n">DataReaderAscii</span><span class="p">(</span><span class="n">ats_2ascii</span><span class="p">)</span>
<span class="n">asciiReader</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>
<span class="n">asciiReader</span><span class="o">.</span><span class="n">printComments</span><span class="p">()</span>
<span class="n">physicalAsciiData</span> <span class="o">=</span> <span class="n">asciiReader</span><span class="o">.</span><span class="n">getPhysicalData</span><span class="p">(</span><span class="n">startTime</span><span class="p">,</span> <span class="n">stopTime</span><span class="p">)</span>
<span class="n">physicalAsciiData</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>

<span class="c1"># now plot the two datasets together</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">physicalATSData</span><span class="o">.</span><span class="n">numChans</span><span class="p">))</span>
<span class="n">physicalATSData</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">sampleStop</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;ATS format&quot;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">physicalAsciiData</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">sampleStop</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Ascii format&quot;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;ats_vs_ascii.png&quot;</span><span class="p">))</span>

</pre></div>
</td></tr></table></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="SPAM-timeseries.html" class="btn btn-neutral float-right" title="SPAM timeseries" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../timeseries.html" class="btn btn-neutral float-left" title="Timeseries data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Neeraj Shah

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>