

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Lemi B423 timeseries &mdash; resistics 0.0.6.dev3 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Phoenix timeseries" href="Phoenix-timeseries.html" />
    <link rel="prev" title="SPAM timeseries" href="SPAM-timeseries.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html"> resistics
          

          
            
            <img src="../../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.0.6
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search..." />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../conventions.html">Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../features.html">Features</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../formats.html">Data formats</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../timeseries.html">Timeseries data</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="ATS-timeseries.html">ATS timeseries</a></li>
<li class="toctree-l3"><a class="reference internal" href="SPAM-timeseries.html">SPAM timeseries</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Lemi B423 timeseries</a></li>
<li class="toctree-l3"><a class="reference internal" href="Phoenix-timeseries.html">Phoenix timeseries</a></li>
<li class="toctree-l3"><a class="reference internal" href="ascii-timeseries.html">ASCII timeseries</a></li>
<li class="toctree-l3"><a class="reference internal" href="internal-binary-format.html">Internal binary format</a></li>
<li class="toctree-l3"><a class="reference internal" href="interpolation-to-second.html">Interpolation to second</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../calibration.html">Calibration data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advanced.html">Advanced</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cookbook.html">Cookbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../case-studies.html">Case studies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modules.html">API reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Changelog / backlog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bibliography.html">Bibliography</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../donate.html">Donate</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contact.html">Contact</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">resistics</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">resistics</a> &raquo;</li>
        
          <li><a href="../../formats.html">Data formats</a> &raquo;</li>
        
          <li><a href="../timeseries.html">Timeseries data</a> &raquo;</li>
        
      <li>Lemi B423 timeseries</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/formats/timeseries/LemiB423-timeseries.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="lemi-b423-timeseries">
<h1>Lemi B423 timeseries<a class="headerlink" href="#lemi-b423-timeseries" title="Permalink to this headline">¶</a></h1>
<p>Lemi B423 files come in two varieties</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>Lemi B423 magnetotelluric files with five channels: E<sub>x</sub>, E<sub>y</sub>, H<sub>x</sub>, H<sub>y</sub>, H<sub>z</sub></dt><dd><ul>
<li><a class="reference internal" href="#lemi-b423-mt-headers"><span class="std std-ref">Lemi B423 MT headers</span></a></li>
<li><a class="reference internal" href="#lemi-b423-mt-data"><span class="std std-ref">Lemi B423 MT data</span></a></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Lemi B423E telluric files with four channels: E<sub>1</sub>, E<sub>2</sub>, E<sub>3</sub>, E<sub>4</sub></dt><dd><ul>
<li><a class="reference internal" href="#lemi-b423e-telluric-headers"><span class="std std-ref">Lemi B423E telluric headers</span></a></li>
<li><a class="reference internal" href="#lemi-b423e-telluric-data"><span class="std std-ref">Lemi B423E telluric data</span></a></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>For both formats, all the channel data is recorded in a single data file. However, the recording itself can be separated in to multiple files if it is sufficiently long.</p>
<p>Whilst Lemi B423 and Lemi B423E  file formats are similar, they are not exactly the same and the process to deal with them varies from one to the other. Both will be detailed here.</p>
<p>The first thing to note is Lemi B423 and Lemi B423E files do not come with header files. There are ASCII headers within the data, but these are incomplete in several ways versus the expectations resistics has of header files. Therefore, the first job when dealing with Lemi B423 and B423E data is to generate headers files. Fortunately, resistics has built in methods to do this, which are outlined in the individual sub-sections for <a class="reference internal" href="#lemi-b423-mt-headers"><span class="std std-ref">Lemi B423 MT headers</span></a> and <a class="reference internal" href="#lemi-b423e-telluric-headers"><span class="std std-ref">Lemi B423E telluric headers</span></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the project environment, for resistics to recognise Lemi B423 data, header files with extension .h423 must be present. To recognise Lemi B423E, header files with extension .h423E must be present.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A note about units. Unscaled Lemi data are integer counts. Additional scalings can be applied to give electric channels in microvolts and magnetic channels in millivolts but with the gain still applied (these are the ascii scalings in the Lemi data files). Getting physical data returns data in the resistics standard field units, which is electric channels in mV/km and magnetic channels in mV. To get magnetic channels in nT, they must be calibrated.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For a complete example of processing Lemi B423 data from generating headers to impedance tensor, please see <a class="reference internal" href="../../cookbook/processing-lemi-b423.html"><span class="doc">Processing Lemi B423</span></a>. An example of intersite processing with Lemi B423 and Lemi B423E data can be found in <a class="reference internal" href="../../advanced/intersite-transfer-function.html"><span class="doc">Intersite processing</span></a>.</p>
</div>
<div class="section" id="lemi-b423-mt-headers">
<h2>Lemi B423 MT headers<a class="headerlink" href="#lemi-b423-mt-headers" title="Permalink to this headline">¶</a></h2>
<p>A typical Lemi B423 magnetotelluric recording looks like this:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>lemi01
├── 1558950203.B423
└── 1558961007.B423
</pre></div>
</div>
<p>This is a continuous recording split into two files. Each file contains channels E<sub>x</sub>, E<sub>y</sub>, H<sub>x</sub>, H<sub>y</sub>, H<sub>z</sub>. However, there is no header file holding information about the recording start and end date, sampling frequency or any other paramter.</p>
<p>Resistics requires this metadata in its time series data model. Therefore, headers must be constructed before the data can be read in. This can be done using the <a class="reference internal" href="../../api/resistics.time.reader_lemib423.html#resistics.time.reader_lemib423.measB423Headers" title="resistics.time.reader_lemib423.measB423Headers"><code class="xref py py-meth docutils literal notranslate"><span class="pre">measB423Headers()</span></code></a>.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datapaths</span> <span class="kn">import</span> <span class="n">timePath</span><span class="p">,</span> <span class="n">timeImages</span>
<span class="kn">from</span> <span class="nn">resistics.time.reader_lemib423</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">TimeReaderLemiB423</span><span class="p">,</span>
    <span class="n">measB423Headers</span><span class="p">,</span>
    <span class="n">folderB423Headers</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">lemiPath</span> <span class="o">=</span> <span class="n">timePath</span> <span class="o">/</span> <span class="s2">&quot;lemiB423&quot;</span>
<span class="n">measB423Headers</span><span class="p">(</span>
    <span class="n">lemiPath</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="n">hxSensor</span><span class="o">=</span><span class="mi">712</span><span class="p">,</span> <span class="n">hySensor</span><span class="o">=</span><span class="mi">710</span><span class="p">,</span> <span class="n">hzSensor</span><span class="o">=</span><span class="mi">714</span><span class="p">,</span> <span class="n">hGain</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">dx</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="mf">60.7</span>
<span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>In <a class="reference internal" href="../../api/resistics.time.reader_lemib423.html#resistics.time.reader_lemib423.measB423Headers" title="resistics.time.reader_lemib423.measB423Headers"><code class="xref py py-meth docutils literal notranslate"><span class="pre">measB423Headers()</span></code></a>, the following should be defined:</p>
<ul class="simple">
<li>The path to the folder with the Lemi B423 data files.</li>
<li>The sampling frequency in Hz of the data. In the above example, 500 Hz.</li>
<li>hxSensor: the serial number of the H<sub>x</sub> coil for the purposes of future calibration. This defaults to 0 if not provided (and no calibration will be performed).</li>
<li>hySensor: the serial number of the H<sub>y</sub> coil for the purposes of future calibration. This defaults to 0 if not provided (and no calibration will be performed)</li>
<li>hZSensor: the serial number of the H<sub>z</sub> coil for the purposes of future calibration. This defaults to 0 if not provided (and no calibration will be performed)</li>
<li>hGain: the internal gain on the magnetic channels. For example, 16.</li>
<li>dx: the E<sub>x</sub> dipole length</li>
<li>dy: the E<sub>y</sub> dipole length</li>
</ul>
<p>After running <a class="reference internal" href="../../api/resistics.time.reader_lemib423.html#resistics.time.reader_lemib423.measB423Headers" title="resistics.time.reader_lemib423.measB423Headers"><code class="xref py py-meth docutils literal notranslate"><span class="pre">measB423Headers()</span></code></a> with the appropriate parameters, the recording folder will look like:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>lemi01
├── 1558950203.B423
├── 1558961007.B423
├── chan_00.h423
├── chan_01.h423
├── chan_02.h423
├── chan_03.h423
├── chan_04.h423
└── global.h423
</pre></div>
</div>
<p>Six header files with extension .h423 have been added, one for each channel and then a global header file. The global header file is included below.</p>
<div class="highlight-text notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span>HEADER = GLOBAL
sample_freq = 500
num_samples = 10799501
start_time = 09:43:28.000000
start_date = 2019-05-27
stop_time = 15:43:27.000000
stop_date = 2019-05-27
meas_channels = 5
</pre></div>
</td></tr></table></div>
<p>The channel header file for H<sub>x</sub> is presented below. The sensor serial number has been saved in the sensor_sernum header word and the magnetic channel gain in header gain_stage1.</p>
<div class="highlight-text notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span>HEADER = CHANNEL
sample_freq = 500
num_samples = 10799501
start_time = 09:43:28.000000
start_date = 2019-05-27
stop_time = 15:43:27.000000
stop_date = 2019-05-27
ats_data_file = 1558950203.B423, 1558961007.B423
sensor_type = 
channel_type = Hx
ts_lsb = 1
scaling_applied = False
pos_x1 = 0
pos_x2 = 1
pos_y1 = 0
pos_y2 = 1
pos_z1 = 0
pos_z2 = 1
sensor_sernum = 712
gain_stage1 = 16
gain_stage2 = 1
hchopper = 0
echopper = 0
</pre></div>
</td></tr></table></div>
<p>The channel header file for E<sub>x</sub> instead saves the information about the dipole length in the header file. The E<sub>x</sub> dipole length is given by the absolute difference between pos_x2 and pos_x1.</p>
<div class="highlight-text notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span>HEADER = CHANNEL
sample_freq = 500
num_samples = 10799501
start_time = 09:43:28.000000
start_date = 2019-05-27
stop_time = 15:43:27.000000
stop_date = 2019-05-27
ats_data_file = 1558950203.B423, 1558961007.B423
sensor_type = 
channel_type = Ex
ts_lsb = 1
scaling_applied = False
pos_x1 = 0
pos_x2 = 60
pos_y1 = 0
pos_y2 = 1
pos_z1 = 0
pos_z2 = 1
sensor_sernum = 0
gain_stage1 = 1
gain_stage2 = 1
hchopper = 0
echopper = 0
</pre></div>
</td></tr></table></div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">For many field surveys, a site includes multiple measurements using the same measurement parameters. For example, when a site is setup, the dipole lengths are unlikely to change as well as the sensor serial numbers. In this case, it is better to use the method <a class="reference internal" href="../../api/resistics.time.reader_lemib423.html#resistics.time.reader_lemib423.folderB423Headers" title="resistics.time.reader_lemib423.folderB423Headers"><code class="xref py py-meth docutils literal notranslate"><span class="pre">folderB423Headers()</span></code></a>, which will write out headers for all measurements in a folder.</p>
</div>
<p>Batch header files for Lemi B423 data can be written out using the method <a class="reference internal" href="../../api/resistics.time.reader_lemib423.html#resistics.time.reader_lemib423.folderB423Headers" title="resistics.time.reader_lemib423.folderB423Headers"><code class="xref py py-meth docutils literal notranslate"><span class="pre">folderB423Headers()</span></code></a>.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>63
64
65
66
67
68
69
70
71
72</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># preparing headers for all measurement folders in a site</span>
<span class="n">folderPath</span> <span class="o">=</span> <span class="n">timePath</span> <span class="o">/</span> <span class="s2">&quot;lemiB423_site&quot;</span>
<span class="n">folderB423Headers</span><span class="p">(</span>
    <span class="n">folderPath</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="n">hxSensor</span><span class="o">=</span><span class="mi">712</span><span class="p">,</span> <span class="n">hySensor</span><span class="o">=</span><span class="mi">710</span><span class="p">,</span> <span class="n">hzSensor</span><span class="o">=</span><span class="mi">714</span><span class="p">,</span> <span class="n">hGain</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">dx</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="mf">60.7</span>
<span class="p">)</span>

<span class="n">lemiPath</span> <span class="o">=</span> <span class="n">folderPath</span> <span class="o">/</span> <span class="s2">&quot;lemi01&quot;</span>
<span class="n">lemiReader</span> <span class="o">=</span> <span class="n">TimeReaderLemiB423</span><span class="p">(</span><span class="n">lemiPath</span><span class="p">)</span>
<span class="n">lemiReader</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>
<span class="n">lemiReader</span><span class="o">.</span><span class="n">printDataFileInfo</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<p>In this case, the folder structure before headers was:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>lemiB423_site
├── lemi01
|   └── 1558950203.B423
└── lemi01
    └── 1558961007.B423
</pre></div>
</div>
<p>After generating the headers, the folder structure looks as below.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>lemiB423_site
├── lemi01
|   ├── 1558950203.B423
|   ├── chan_00.h423
|   ├── chan_01.h423
|   ├── chan_02.h423
|   ├── chan_03.h423
|   └── global.h423
└── lemi01
    ├── 1558961007.B423
    ├── chan_00.h423
    ├── chan_01.h423
    ├── chan_02.h423
    ├── chan_03.h423
    └── global.h423
</pre></div>
</div>
<p>Printing out information for measurement “lemi01” gives:</p>
<div class="highlight-text notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre></div></td><td class="code"><div class="highlight"><pre><span></span>23:52:41 DataReaderLemiB423E: ####################
23:52:41 DataReaderLemiB423E: DATAREADERLEMIB423E INFO BEGIN
23:52:41 DataReaderLemiB423E: ####################
23:52:41 DataReaderLemiB423E: Data Path = timeData\lemiB423E_site\lemi01
23:52:41 DataReaderLemiB423E: Global Headers
23:52:41 DataReaderLemiB423E: {&#39;sample_freq&#39;: 500.0, &#39;num_samples&#39;: 5399501, &#39;start_time&#39;: &#39;09:20:34.000000&#39;, &#39;start_date&#39;: &#39;2019-05-27&#39;, &#39;stop_time&#39;: &#39;12:20:33.000000&#39;, &#39;stop_date&#39;: &#39;2019-05-27&#39;, &#39;meas_channels&#39;: 4}
23:52:41 DataReaderLemiB423E: Channels found:
23:52:41 DataReaderLemiB423E: [&#39;Ex&#39;, &#39;Ey&#39;, &#39;E3&#39;, &#39;E4&#39;]
23:52:41 DataReaderLemiB423E: Channel Map
23:52:41 DataReaderLemiB423E: {&#39;Ex&#39;: 0, &#39;Ey&#39;: 1, &#39;E3&#39;: 2, &#39;E4&#39;: 3}
23:52:41 DataReaderLemiB423E: Channel Headers
23:52:41 DataReaderLemiB423E: Ex
23:52:41 DataReaderLemiB423E: {&#39;sample_freq&#39;: 500.0, &#39;num_samples&#39;: 5399501, &#39;start_time&#39;: &#39;09:20:34.000000&#39;, &#39;start_date&#39;: &#39;2019-05-27&#39;, &#39;stop_time&#39;: &#39;12:20:33.000000&#39;, &#39;stop_date&#39;: &#39;2019-05-27&#39;, &#39;ats_data_file&#39;: &#39;1558948829.B423&#39;, &#39;sensor_type&#39;: &#39;&#39;, &#39;channel_type&#39;: &#39;Ex&#39;, &#39;ts_lsb&#39;: 1.0, &#39;scaling_applied&#39;: False, &#39;pos_x1&#39;: 0.0, &#39;pos_x2&#39;: 60.0, &#39;pos_y1&#39;: 0.0, &#39;pos_y2&#39;: 1.0, &#39;pos_z1&#39;: 0.0, &#39;pos_z2&#39;: 1.0, &#39;sensor_sernum&#39;: 0, &#39;gain_stage1&#39;: 1, &#39;gain_stage2&#39;: 1, &#39;hchopper&#39;: 0, &#39;echopper&#39;: 0}
23:52:41 DataReaderLemiB423E: Ey
23:52:41 DataReaderLemiB423E: {&#39;sample_freq&#39;: 500.0, &#39;num_samples&#39;: 5399501, &#39;start_time&#39;: &#39;09:20:34.000000&#39;, &#39;start_date&#39;: &#39;2019-05-27&#39;, &#39;stop_time&#39;: &#39;12:20:33.000000&#39;, &#39;stop_date&#39;: &#39;2019-05-27&#39;, &#39;ats_data_file&#39;: &#39;1558948829.B423&#39;, &#39;sensor_type&#39;: &#39;&#39;, &#39;channel_type&#39;: &#39;Ey&#39;, &#39;ts_lsb&#39;: 1.0, &#39;scaling_applied&#39;: False, &#39;pos_x1&#39;: 0.0, &#39;pos_x2&#39;: 1.0, &#39;pos_y1&#39;: 0.0, &#39;pos_y2&#39;: 60.7, &#39;pos_z1&#39;: 0.0, &#39;pos_z2&#39;: 1.0, &#39;sensor_sernum&#39;: 0, &#39;gain_stage1&#39;: 1, &#39;gain_stage2&#39;: 1, &#39;hchopper&#39;: 0, &#39;echopper&#39;: 0}
23:52:41 DataReaderLemiB423E: E3
23:52:41 DataReaderLemiB423E: {&#39;sample_freq&#39;: 500.0, &#39;num_samples&#39;: 5399501, &#39;start_time&#39;: &#39;09:20:34.000000&#39;, &#39;start_date&#39;: &#39;2019-05-27&#39;, &#39;stop_time&#39;: &#39;12:20:33.000000&#39;, &#39;stop_date&#39;: &#39;2019-05-27&#39;, &#39;ats_data_file&#39;: &#39;1558948829.B423&#39;, &#39;sensor_type&#39;: &#39;&#39;, &#39;channel_type&#39;: &#39;E3&#39;, &#39;ts_lsb&#39;: 1.0, &#39;scaling_applied&#39;: False, &#39;pos_x1&#39;: 0.0, &#39;pos_x2&#39;: 1.0, &#39;pos_y1&#39;: 0.0, &#39;pos_y2&#39;: 1.0, &#39;pos_z1&#39;: 0.0, &#39;pos_z2&#39;: 1.0, &#39;sensor_sernum&#39;: 0, &#39;gain_stage1&#39;: 1, &#39;gain_stage2&#39;: 1, &#39;hchopper&#39;: 0, &#39;echopper&#39;: 0}
23:52:41 DataReaderLemiB423E: E4
23:52:41 DataReaderLemiB423E: {&#39;sample_freq&#39;: 500.0, &#39;num_samples&#39;: 5399501, &#39;start_time&#39;: &#39;09:20:34.000000&#39;, &#39;start_date&#39;: &#39;2019-05-27&#39;, &#39;stop_time&#39;: &#39;12:20:33.000000&#39;, &#39;stop_date&#39;: &#39;2019-05-27&#39;, &#39;ats_data_file&#39;: &#39;1558948829.B423&#39;, &#39;sensor_type&#39;: &#39;&#39;, &#39;channel_type&#39;: &#39;E4&#39;, &#39;ts_lsb&#39;: 1.0, &#39;scaling_applied&#39;: False, &#39;pos_x1&#39;: 0.0, &#39;pos_x2&#39;: 1.0, &#39;pos_y1&#39;: 0.0, &#39;pos_y2&#39;: 1.0, &#39;pos_z1&#39;: 0.0, &#39;pos_z2&#39;: 1.0, &#39;sensor_sernum&#39;: 0, &#39;gain_stage1&#39;: 1, &#39;gain_stage2&#39;: 1, &#39;hchopper&#39;: 0, &#39;echopper&#39;: 0}
23:52:41 DataReaderLemiB423E: Note: Field units used. Physical data has units mV/km for electric fields and mV for magnetic fields
23:52:41 DataReaderLemiB423E: Note: To get magnetic field in nT, please calibrate
23:52:41 DataReaderLemiB423E: ####################
23:52:41 DataReaderLemiB423E: DATAREADERLEMIB423E INFO END
23:52:41 DataReaderLemiB423E: ####################
23:52:41 DataReaderLemiB423E Data File List: ####################
23:52:41 DataReaderLemiB423E Data File List: DATAREADERLEMIB423E DATA FILE LIST INFO BEGIN
23:52:41 DataReaderLemiB423E Data File List: ####################
23:52:41 DataReaderLemiB423E Data File List: Data File          Sample Ranges
23:52:41 DataReaderLemiB423E Data File List: timeData\lemiB423E_site\lemi01\1558948829.B423             0 - 5399500
23:52:41 DataReaderLemiB423E Data File List: Total samples = 5399501
23:52:41 DataReaderLemiB423E Data File List: ####################
23:52:41 DataReaderLemiB423E Data File List: DATAREADERLEMIB423E DATA FILE LIST INFO END
23:52:41 DataReaderLemiB423E Data File List: ####################
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Once the header files are generated, the measurement data can be added to a resistics project and processed just as any other dataset.</p>
</div>
<p>Now the header files have been prepared, the data can be loaded. To do this, the <a class="reference internal" href="../../api/resistics.time.reader_lemib423.html#resistics.time.reader_lemib423.TimeReaderLemiB423" title="resistics.time.reader_lemib423.TimeReaderLemiB423"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeReaderLemiB423</span></code></a> of module <a class="reference internal" href="../../api/resistics.time.reader_lemib423.html#module-resistics.time.reader_lemib423" title="resistics.time.reader_lemib423"><code class="xref py py-mod docutils literal notranslate"><span class="pre">reader_lemib423</span></code></a> is used as described in <a class="reference internal" href="#lemi-b423-mt-data"><span class="std std-ref">Lemi B423 MT data</span></a>.</p>
</div>
<div class="section" id="lemi-b423-mt-data">
<h2>Lemi B423 MT data<a class="headerlink" href="#lemi-b423-mt-data" title="Permalink to this headline">¶</a></h2>
<p>To load Lemi B423 data (after headers have been prepared), the <a class="reference internal" href="../../api/resistics.time.reader_lemib423.html#resistics.time.reader_lemib423.TimeReaderLemiB423" title="resistics.time.reader_lemib423.TimeReaderLemiB423"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeReaderLemiB423</span></code></a> of module <a class="reference internal" href="../../api/resistics.time.reader_lemib423.html#module-resistics.time.reader_lemib423" title="resistics.time.reader_lemib423"><code class="xref py py-mod docutils literal notranslate"><span class="pre">reader_lemib423</span></code></a> is used.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">lemiReader</span> <span class="o">=</span> <span class="n">TimeReaderLemiB423</span><span class="p">(</span><span class="n">lemiPath</span><span class="p">)</span>
<span class="n">lemiReader</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>
<span class="n">lemiReader</span><span class="o">.</span><span class="n">printDataFileInfo</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<p>Printing the measurement information gives the following output to the terminal.</p>
<div class="highlight-text notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36</pre></div></td><td class="code"><div class="highlight"><pre><span></span>21:57:53 DataReaderLemiB423: ####################
21:57:53 DataReaderLemiB423: DATAREADERLEMIB423 INFO BEGIN
21:57:53 DataReaderLemiB423: ####################
21:57:53 DataReaderLemiB423: Data Path = timeData\lemiB423
21:57:53 DataReaderLemiB423: Global Headers
21:57:53 DataReaderLemiB423: {&#39;sample_freq&#39;: 500.0, &#39;num_samples&#39;: 10799501, &#39;start_time&#39;: &#39;09:43:28.000000&#39;, &#39;start_date&#39;: &#39;2019-05-27&#39;, &#39;stop_time&#39;: &#39;15:43:27.000000&#39;, &#39;stop_date&#39;: &#39;2019-05-27&#39;, &#39;meas_channels&#39;: 5}
21:57:53 DataReaderLemiB423: Channels found:
21:57:53 DataReaderLemiB423: [&#39;Hx&#39;, &#39;Hy&#39;, &#39;Hz&#39;, &#39;Ex&#39;, &#39;Ey&#39;]
21:57:53 DataReaderLemiB423: Channel Map
21:57:53 DataReaderLemiB423: {&#39;Hx&#39;: 0, &#39;Hy&#39;: 1, &#39;Hz&#39;: 2, &#39;Ex&#39;: 3, &#39;Ey&#39;: 4}
21:57:53 DataReaderLemiB423: Channel Headers
21:57:53 DataReaderLemiB423: Hx
21:57:53 DataReaderLemiB423: {&#39;sample_freq&#39;: 500.0, &#39;num_samples&#39;: 10799501, &#39;start_time&#39;: &#39;09:43:28.000000&#39;, &#39;start_date&#39;: &#39;2019-05-27&#39;, &#39;stop_time&#39;: &#39;15:43:27.000000&#39;, &#39;stop_date&#39;: &#39;2019-05-27&#39;, &#39;ats_data_file&#39;: &#39;1558950203.B423, 1558961007.B423&#39;, &#39;sensor_type&#39;: &#39;&#39;, &#39;channel_type&#39;: &#39;Hx&#39;, &#39;ts_lsb&#39;: 1.0, &#39;scaling_applied&#39;: False, &#39;pos_x1&#39;: 0.0, &#39;pos_x2&#39;: 1.0, &#39;pos_y1&#39;: 0.0, &#39;pos_y2&#39;: 1.0, &#39;pos_z1&#39;: 0.0, &#39;pos_z2&#39;: 1.0, &#39;sensor_sernum&#39;: 712, &#39;gain_stage1&#39;: 16, &#39;gain_stage2&#39;: 1, &#39;hchopper&#39;: 0, &#39;echopper&#39;: 0}
21:57:53 DataReaderLemiB423: Hy
21:57:53 DataReaderLemiB423: {&#39;sample_freq&#39;: 500.0, &#39;num_samples&#39;: 10799501, &#39;start_time&#39;: &#39;09:43:28.000000&#39;, &#39;start_date&#39;: &#39;2019-05-27&#39;, &#39;stop_time&#39;: &#39;15:43:27.000000&#39;, &#39;stop_date&#39;: &#39;2019-05-27&#39;, &#39;ats_data_file&#39;: &#39;1558950203.B423, 1558961007.B423&#39;, &#39;sensor_type&#39;: &#39;&#39;, &#39;channel_type&#39;: &#39;Hy&#39;, &#39;ts_lsb&#39;: 1.0, &#39;scaling_applied&#39;: False, &#39;pos_x1&#39;: 0.0, &#39;pos_x2&#39;: 1.0, &#39;pos_y1&#39;: 0.0, &#39;pos_y2&#39;: 1.0, &#39;pos_z1&#39;: 0.0, &#39;pos_z2&#39;: 1.0, &#39;sensor_sernum&#39;: 710, &#39;gain_stage1&#39;: 16, &#39;gain_stage2&#39;: 1, &#39;hchopper&#39;: 0, &#39;echopper&#39;: 0}
21:57:53 DataReaderLemiB423: Hz
21:57:53 DataReaderLemiB423: {&#39;sample_freq&#39;: 500.0, &#39;num_samples&#39;: 10799501, &#39;start_time&#39;: &#39;09:43:28.000000&#39;, &#39;start_date&#39;: &#39;2019-05-27&#39;, &#39;stop_time&#39;: &#39;15:43:27.000000&#39;, &#39;stop_date&#39;: &#39;2019-05-27&#39;, &#39;ats_data_file&#39;: &#39;1558950203.B423, 1558961007.B423&#39;, &#39;sensor_type&#39;: &#39;&#39;, &#39;channel_type&#39;: &#39;Hz&#39;, &#39;ts_lsb&#39;: 1.0, &#39;scaling_applied&#39;: False, &#39;pos_x1&#39;: 0.0, &#39;pos_x2&#39;: 1.0, &#39;pos_y1&#39;: 0.0, &#39;pos_y2&#39;: 1.0, &#39;pos_z1&#39;: 0.0, &#39;pos_z2&#39;: 1.0, &#39;sensor_sernum&#39;: 714, &#39;gain_stage1&#39;: 16, &#39;gain_stage2&#39;: 1, &#39;hchopper&#39;: 0, &#39;echopper&#39;: 0}
21:57:53 DataReaderLemiB423: Ex
21:57:53 DataReaderLemiB423: {&#39;sample_freq&#39;: 500.0, &#39;num_samples&#39;: 10799501, &#39;start_time&#39;: &#39;09:43:28.000000&#39;, &#39;start_date&#39;: &#39;2019-05-27&#39;, &#39;stop_time&#39;: &#39;15:43:27.000000&#39;, &#39;stop_date&#39;: &#39;2019-05-27&#39;, &#39;ats_data_file&#39;: &#39;1558950203.B423, 1558961007.B423&#39;, &#39;sensor_type&#39;: &#39;&#39;, &#39;channel_type&#39;: &#39;Ex&#39;, &#39;ts_lsb&#39;: 1.0, &#39;scaling_applied&#39;: False, &#39;pos_x1&#39;: 0.0, &#39;pos_x2&#39;: 60.0, &#39;pos_y1&#39;: 0.0, &#39;pos_y2&#39;: 1.0, &#39;pos_z1&#39;: 0.0, &#39;pos_z2&#39;: 1.0, &#39;sensor_sernum&#39;: 0, &#39;gain_stage1&#39;: 1, &#39;gain_stage2&#39;: 1, &#39;hchopper&#39;: 0, &#39;echopper&#39;: 0}
21:57:53 DataReaderLemiB423: Ey
21:57:53 DataReaderLemiB423: {&#39;sample_freq&#39;: 500.0, &#39;num_samples&#39;: 10799501, &#39;start_time&#39;: &#39;09:43:28.000000&#39;, &#39;start_date&#39;: &#39;2019-05-27&#39;, &#39;stop_time&#39;: &#39;15:43:27.000000&#39;, &#39;stop_date&#39;: &#39;2019-05-27&#39;, &#39;ats_data_file&#39;: &#39;1558950203.B423, 1558961007.B423&#39;, &#39;sensor_type&#39;: &#39;&#39;, &#39;channel_type&#39;: &#39;Ey&#39;, &#39;ts_lsb&#39;: 1.0, &#39;scaling_applied&#39;: False, &#39;pos_x1&#39;: 0.0, &#39;pos_x2&#39;: 1.0, &#39;pos_y1&#39;: 0.0, &#39;pos_y2&#39;: 60.7, &#39;pos_z1&#39;: 0.0, &#39;pos_z2&#39;: 1.0, &#39;sensor_sernum&#39;: 0, &#39;gain_stage1&#39;: 1, &#39;gain_stage2&#39;: 1, &#39;hchopper&#39;: 0, &#39;echopper&#39;: 0}
21:57:53 DataReaderLemiB423: Note: Field units used. Physical data has units mV/km for electric fields and mV for magnetic fields
21:57:53 DataReaderLemiB423: Note: To get magnetic field in nT, please calibrate
21:57:53 DataReaderLemiB423: ####################
21:57:53 DataReaderLemiB423: DATAREADERLEMIB423 INFO END
21:57:53 DataReaderLemiB423: ####################
21:57:53 DataReaderLemiB423 Data File List: ####################
21:57:53 DataReaderLemiB423 Data File List: DATAREADERLEMIB423 DATA FILE LIST INFO BEGIN
21:57:53 DataReaderLemiB423 Data File List: ####################
21:57:53 DataReaderLemiB423 Data File List: Data File           Sample Ranges
21:57:53 DataReaderLemiB423 Data File List: timeData\lemiB423\1558950203.B423           0 - 5399500
21:57:53 DataReaderLemiB423 Data File List: timeData\lemiB423\1558961007.B423           5399501 - 10799500
21:57:53 DataReaderLemiB423 Data File List: Total samples = 10799501
21:57:53 DataReaderLemiB423 Data File List: ####################
21:57:53 DataReaderLemiB423 Data File List: DATAREADERLEMIB423 DATA FILE LIST INFO END
21:57:53 DataReaderLemiB423 Data File List: ####################
</pre></div>
</td></tr></table></div>
<p>Now the Lemi B423 data can be accessed in much the same way as the other data readers. For example, viewing the unscaled data can be achieved by using the <a class="reference internal" href="../../api/resistics.time.reader_lemib423.html#resistics.time.reader_lemib423.TimeReaderLemiB423.getUnscaledSamples" title="resistics.time.reader_lemib423.TimeReaderLemiB423.getUnscaledSamples"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getUnscaledSamples()</span></code></a> method, which returns a <a class="reference internal" href="../../api/resistics.time.data.html#resistics.time.data.TimeData" title="resistics.time.data.TimeData"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeData</span></code></a> object.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># plot data</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="n">unscaledLemiData</span> <span class="o">=</span> <span class="n">lemiReader</span><span class="o">.</span><span class="n">getUnscaledSamples</span><span class="p">()</span>
<span class="n">unscaledLemiData</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">unscaledLemiData</span><span class="o">.</span><span class="n">numChans</span><span class="p">))</span>
<span class="n">unscaledLemiData</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">sampleStop</span><span class="o">=</span><span class="mi">10000</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">])</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">timeImages</span> <span class="o">/</span> <span class="s2">&quot;lemiB423Unscaled.png&quot;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<div class="align-center figure" id="id1">
<img alt="alternate text" src="../../_images/lemiB423Unscaled.png" />
<p class="caption"><span class="caption-text">Viewing unscaled data. Units here are integer counts.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p>There are two stages of scaling in Lemi files:</p>
<ol class="arabic simple">
<li>The first converts the integer counts to microvolts for electric channels and mV for magnetic channels with the internal gain still applied. To get this data, the scale keyword to <a class="reference internal" href="../../api/resistics.time.reader_lemib423.html#resistics.time.reader_lemib423.TimeReaderLemiB423.getUnscaledSamples" title="resistics.time.reader_lemib423.TimeReaderLemiB423.getUnscaledSamples"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getUnscaledSamples()</span></code></a> needs to be set to <code class="code python docutils literal notranslate"><span class="name builtin pseudo"><span class="pre">True</span></span></code>.</li>
<li>The second scaling converts the microvolt electric channels to mV/km by also dividing by the diploe lengths in km. The gain on the magnetic channels is removed to give magnetic channels in mV. This is the resistics standard field units. The methods <a class="reference internal" href="../../api/resistics.time.reader_lemib423.html#resistics.time.reader_lemib423.TimeReaderLemiB423.getPhysicalSamples" title="resistics.time.reader_lemib423.TimeReaderLemiB423.getPhysicalSamples"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getPhysicalSamples()</span></code></a> or <a class="reference internal" href="../../api/resistics.time.reader.html#resistics.time.reader.TimeReader.getPhysicalData" title="resistics.time.reader.TimeReader.getPhysicalData"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getPhysicalData()</span></code></a> will return a <a class="reference internal" href="../../api/resistics.time.data.html#resistics.time.data.TimeData" title="resistics.time.data.TimeData"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeData</span></code></a> object in field units.</li>
</ol>
<p>For example, to achieve scaling 1:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>27
28
29
30
31
32
33
34</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">startTime</span> <span class="o">=</span> <span class="s2">&quot;2019-05-27 15:00:00&quot;</span>
<span class="n">stopTime</span> <span class="o">=</span> <span class="s2">&quot;2019-05-27 15:00:15&quot;</span>
<span class="n">unscaledLemiData</span> <span class="o">=</span> <span class="n">lemiReader</span><span class="o">.</span><span class="n">getUnscaledData</span><span class="p">(</span><span class="n">startTime</span><span class="p">,</span> <span class="n">stopTime</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">unscaledLemiData</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">unscaledLemiData</span><span class="o">.</span><span class="n">numChans</span><span class="p">))</span>
<span class="n">unscaledLemiData</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">sampleStop</span><span class="o">=</span><span class="n">unscaledLemiData</span><span class="o">.</span><span class="n">numSamples</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">])</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">timeImages</span> <span class="o">/</span> <span class="s2">&quot;lemiB423UnscaledWithScaleOption.png&quot;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<div class="align-center figure" id="id2">
<img alt="alternate text" src="../../_images/lemiB423UnscaledWithScaleOption.png" />
<p class="caption"><span class="caption-text">Viewing unscaled data. Units here are microvolts for electric channels and millivolts for magnetic channels with gain still applied.</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<p>Finally, to get data in field units of mV/km for electric channels and mV for magnetic channels, the methods <a class="reference internal" href="../../api/resistics.time.reader_lemib423.html#resistics.time.reader_lemib423.TimeReaderLemiB423.getPhysicalSamples" title="resistics.time.reader_lemib423.TimeReaderLemiB423.getPhysicalSamples"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getPhysicalSamples()</span></code></a> or <a class="reference internal" href="../../api/resistics.time.reader.html#resistics.time.reader.TimeReader.getPhysicalData" title="resistics.time.reader.TimeReader.getPhysicalData"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getPhysicalData()</span></code></a> can be used like in the below example. This is equivalent to scaling situation 2 and returns the <a class="reference internal" href="../../api/resistics.time.data.html#resistics.time.data.TimeData" title="resistics.time.data.TimeData"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeData</span></code></a> object in resistics standard field units.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>36
37
38
39
40
41</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">physicalLemiData</span> <span class="o">=</span> <span class="n">lemiReader</span><span class="o">.</span><span class="n">getPhysicalData</span><span class="p">(</span><span class="n">startTime</span><span class="p">,</span> <span class="n">stopTime</span><span class="p">)</span>
<span class="n">physicalLemiData</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">physicalLemiData</span><span class="o">.</span><span class="n">numChans</span><span class="p">))</span>
<span class="n">physicalLemiData</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">sampleStop</span><span class="o">=</span><span class="n">physicalLemiData</span><span class="o">.</span><span class="n">numSamples</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">])</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">timeImages</span> <span class="o">/</span> <span class="s2">&quot;lemiB423PhysicalData.png&quot;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<div class="align-center figure" id="id3">
<img alt="alternate text" src="../../_images/lemiB423PhysicalData.png" />
<p class="caption"><span class="caption-text">Viewing data in physical units. Electric channels in mV/km and magnetic channels in mV.</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<p>Much like the other data formats supported by resistics, Lemi B423 data can be written out in internal or ascii format.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>43
44
45
46
47
48
49</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># write out as the internal format</span>
<span class="kn">from</span> <span class="nn">resistics.time.writer_internal</span> <span class="kn">import</span> <span class="n">TimeWriterInternal</span>

<span class="n">lemiB423_2internal</span> <span class="o">=</span> <span class="n">timePath</span> <span class="o">/</span> <span class="s2">&quot;lemiB423Internal&quot;</span>
<span class="n">writer</span> <span class="o">=</span> <span class="n">TimeWriterInternal</span><span class="p">()</span>
<span class="n">writer</span><span class="o">.</span><span class="n">setOutPath</span><span class="p">(</span><span class="n">lemiB423_2internal</span><span class="p">)</span>
<span class="n">writer</span><span class="o">.</span><span class="n">writeDataset</span><span class="p">(</span><span class="n">lemiReader</span><span class="p">,</span> <span class="n">physical</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>Reading in the internally formatted data, the dataset comments can be inspected.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>51
52
53
54
55</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># read in the internal format dataset, see comments and plot original lemi data</span>
<span class="kn">from</span> <span class="nn">resistics.time.reader_internal</span> <span class="kn">import</span> <span class="n">TimeReaderInternal</span>

<span class="n">internalReader</span> <span class="o">=</span> <span class="n">TimeReaderInternal</span><span class="p">(</span><span class="n">lemiB423_2internal</span><span class="p">)</span>
<span class="n">internalReader</span><span class="o">.</span><span class="n">printComments</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-text notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre><span></span>Unscaled data 2019-05-27 09:43:28 to 2019-05-27 15:43:27 read in from measurement E:\magnetotellurics\code\resisticsdata\formats\timeData\lemiB423, samples 0 to 10799500
Sampling frequency 500.0
Data read from 2 files in total
Scaling = True
Scaling channel Hx of file E:\magnetotellurics\code\resisticsdata\formats\timeData\lemiB423\1558950203.B423 with multiplier 5.816314e-06 and adding -99.946
Scaling channel Hy of file E:\magnetotellurics\code\resisticsdata\formats\timeData\lemiB423\1558950203.B423 with multiplier 5.816975e-06 and adding -99.952
Scaling channel Hz of file E:\magnetotellurics\code\resisticsdata\formats\timeData\lemiB423\1558950203.B423 with multiplier 5.817061e-06 and adding -99.956
Scaling channel Ex of file E:\magnetotellurics\code\resisticsdata\formats\timeData\lemiB423\1558950203.B423 with multiplier 0.0002910952 and adding -5018.7
Scaling channel Ey of file E:\magnetotellurics\code\resisticsdata\formats\timeData\lemiB423\1558950203.B423 with multiplier 0.0002910181 and adding -4981.6
Scaling channel Hx of file E:\magnetotellurics\code\resisticsdata\formats\timeData\lemiB423\1558961007.B423 with multiplier 5.816314e-06 and adding -99.946
Scaling channel Hy of file E:\magnetotellurics\code\resisticsdata\formats\timeData\lemiB423\1558961007.B423 with multiplier 5.816975e-06 and adding -99.952
Scaling channel Hz of file E:\magnetotellurics\code\resisticsdata\formats\timeData\lemiB423\1558961007.B423 with multiplier 5.817061e-06 and adding -99.956
Scaling channel Ex of file E:\magnetotellurics\code\resisticsdata\formats\timeData\lemiB423\1558961007.B423 with multiplier 0.0002910952 and adding -5018.7
Scaling channel Ey of file E:\magnetotellurics\code\resisticsdata\formats\timeData\lemiB423\1558961007.B423 with multiplier 0.0002910181 and adding -4981.6
Removing gain of 16 from channel Hx
Removing gain of 16 from channel Hy
Removing gain of 16 from channel Hz
Dividing channel Ex by 1000 to convert microvolt to millivolt
Dividing channel Ex by electrode distance 0.06 km to give mV/km
Dividing channel Ey by 1000 to convert microvolt to millivolt
Dividing channel Ey by electrode distance 0.060700 km to give mV/km
Remove zeros: False, remove nans: False, remove average: True
Time series dataset written to E:\magnetotellurics\code\resisticsdata\formats\timeData\lemiB423Internal on 2019-10-05 18:13:59.133157 using resistics 0.0.6.dev2
---------------------------------------------------
</pre></div>
</td></tr></table></div>
<p>The comment files in resistics detail the dataset history and the workflow to produce the dataset. They allow for easier reproducibility. For more information, see <a class="reference internal" href="../../features/comments.html"><span class="doc">here</span></a>.</p>
<p>The internally formatted data and the Lemi B423 data can be plotted together to make sure they are the same.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>56
57
58
59
60
61</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">physicalInternalData</span> <span class="o">=</span> <span class="n">internalReader</span><span class="o">.</span><span class="n">getPhysicalData</span><span class="p">(</span><span class="n">startTime</span><span class="p">,</span> <span class="n">stopTime</span><span class="p">)</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">physicalLemiData</span><span class="o">.</span><span class="n">numChans</span><span class="p">))</span>
<span class="n">physicalLemiData</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">sampleStop</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Lemi B423 format&quot;</span><span class="p">)</span>
<span class="n">physicalInternalData</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">sampleStop</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Internal format&quot;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">])</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">timeImages</span> <span class="o">/</span> <span class="s2">&quot;lemiB423_vs_internal.png&quot;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<div class="align-center figure" id="id4">
<img alt="alternate text" src="../../_images/lemiB423_vs_internal.png" />
<p class="caption"><span class="caption-text">Lemi B423 data versus the internally formatted data. There are no differences.</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="lemi-b423e-telluric-headers">
<h2>Lemi B423E telluric headers<a class="headerlink" href="#lemi-b423e-telluric-headers" title="Permalink to this headline">¶</a></h2>
<p>The Lemi B423E telluric format is similar to the Lemi B423 format. However, there are only four channels instead of five, namely, E<sub>1</sub>, E<sub>2</sub>, E<sub>3</sub>, E<sub>4</sub>. Again, headers need to be generated and for Lemi B423E, this is done using the <a class="reference internal" href="../../api/resistics.time.reader_lemib423e.html#resistics.time.reader_lemib423e.measB423EHeaders" title="resistics.time.reader_lemib423e.measB423EHeaders"><code class="xref py py-meth docutils literal notranslate"><span class="pre">measB423EHeaders()</span></code></a> method of module <a class="reference internal" href="../../api/resistics.time.reader_lemib423e.html#module-resistics.time.reader_lemib423e" title="resistics.time.reader_lemib423e"><code class="xref py py-mod docutils literal notranslate"><span class="pre">reader_lemib423e</span></code></a>. An example is shown below.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datapaths</span> <span class="kn">import</span> <span class="n">timePath</span><span class="p">,</span> <span class="n">timeImages</span>
<span class="kn">from</span> <span class="nn">resistics.time.reader_lemib423e</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">TimeReaderLemiB423E</span><span class="p">,</span>
    <span class="n">measB423EHeaders</span><span class="p">,</span>
    <span class="n">folderB423EHeaders</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">lemiPath</span> <span class="o">=</span> <span class="n">timePath</span> <span class="o">/</span> <span class="s2">&quot;lemiB423E&quot;</span>
<span class="n">measB423EHeaders</span><span class="p">(</span><span class="n">lemiPath</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="n">dx</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="mf">60.7</span><span class="p">,</span> <span class="n">ex</span><span class="o">=</span><span class="s2">&quot;E1&quot;</span><span class="p">,</span> <span class="n">ey</span><span class="o">=</span><span class="s2">&quot;E2&quot;</span><span class="p">)</span>

<span class="n">lemiReader</span> <span class="o">=</span> <span class="n">TimeReaderLemiB423E</span><span class="p">(</span><span class="n">lemiPath</span><span class="p">)</span>
<span class="n">lemiReader</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>
<span class="n">lemiReader</span><span class="o">.</span><span class="n">printDataFileInfo</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<p>To generate headers for a measurement, the following information needs to be provided:</p>
<ul class="simple">
<li>The path to the folder with the Lemi B423E data files.</li>
<li>The sampling frequency in Hz of the data. In the above example, 500 Hz.</li>
<li>dx: the E<sub>x</sub> dipole length</li>
<li>dy: the E<sub>y</sub> dipole length</li>
<li>ex: The channel which is E<sub>x</sub>. This is one of E<sub>1</sub>, E<sub>2</sub>, E<sub>3</sub> or E<sub>4</sub></li>
<li>ey: The channel which is E<sub>y</sub>. This is one of E<sub>1</sub>, E<sub>2</sub>, E<sub>3</sub> or E<sub>4</sub></li>
</ul>
<p>In this case, E<sub>1</sub> maps to E<sub>x</sub> and E<sub>2</sub> maps to E<sub>y</sub>. These channels will now be relabelled as E<sub>x</sub> and E<sub>y</sub>. Note that no electrodes were connected to either E<sub>3</sub> or E<sub>4</sub>. The channel data for E<sub>3</sub> and E<sub>4</sub> is meaningless.</p>
<p>Before headers are generated, the measurement folder looks like this:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>lemi01
├── 1558950203.B423
└── 1558961007.B423
</pre></div>
</div>
<p>And after, five header files with extension .h423E have been created. One global header and one header file each for channels E<sub>1</sub>, E<sub>2</sub>, E<sub>3</sub> and E<sub>4</sub>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>lemi01
├── 1558950203.B423
├── 1558961007.B423
├── chan_00.h423E
├── chan_01.h423E
├── chan_02.h423E
├── chan_03.h423E
└── global.h423E
</pre></div>
</div>
<p>The global header file is included below.</p>
<div class="highlight-text notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span>HEADER = GLOBAL
sample_freq = 500
num_samples = 10799501
start_time = 09:20:34.000000
start_date = 2019-05-27
stop_time = 15:20:33.000000
stop_date = 2019-05-27
meas_channels = 4
</pre></div>
</td></tr></table></div>
<p>The channel header file for E<sub>y</sub> is presented below. The channel header saves the information about the dipole length. The E<sub>y</sub> dipole length is given by the absolute difference between pos_y2 and pos_y1.</p>
<div class="highlight-text notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span>HEADER = CHANNEL
sample_freq = 500
num_samples = 10799501
start_time = 09:20:34.000000
start_date = 2019-05-27
stop_time = 15:20:33.000000
stop_date = 2019-05-27
ats_data_file = 1558948829.B423, 1558959633.B423
sensor_type = 
channel_type = Ey
ts_lsb = 1
scaling_applied = False
pos_x1 = 0
pos_x2 = 1
pos_y1 = 0
pos_y2 = 60.7
pos_z1 = 0
pos_z2 = 1
sensor_sernum = 0
gain_stage1 = 1
gain_stage2 = 1
hchopper = 0
echopper = 0
</pre></div>
</td></tr></table></div>
<p>The channel header file for E<sub>4</sub> is shown below. As specified to the call to <a class="reference internal" href="../../api/resistics.time.reader_lemib423e.html#resistics.time.reader_lemib423e.measB423EHeaders" title="resistics.time.reader_lemib423e.measB423EHeaders"><code class="xref py py-meth docutils literal notranslate"><span class="pre">measB423EHeaders()</span></code></a>, E<sub>1</sub> and E<sub>2</sub> have been mapped to E<sub>x</sub> and E<sub>y</sub> respectively. E<sub>3</sub> and E<sub>4</sub> are left unaltered and their dipole lengths remain as 1.</p>
<div class="highlight-text notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span>HEADER = CHANNEL
sample_freq = 500
num_samples = 10799501
start_time = 09:20:34.000000
start_date = 2019-05-27
stop_time = 15:20:33.000000
stop_date = 2019-05-27
ats_data_file = 1558948829.B423, 1558959633.B423
sensor_type = 
channel_type = E4
ts_lsb = 1
scaling_applied = False
pos_x1 = 0
pos_x2 = 1
pos_y1 = 0
pos_y2 = 1
pos_z1 = 0
pos_z2 = 1
sensor_sernum = 0
gain_stage1 = 1
gain_stage2 = 1
hchopper = 0
echopper = 0
</pre></div>
</td></tr></table></div>
<p>Similarly to Lemi B423 data, header files can be created in a batch fashion for measurments in a folder where the parameters do not change. This is achieved using the <a class="reference internal" href="../../api/resistics.time.reader_lemib423e.html#resistics.time.reader_lemib423e.folderB423EHeaders" title="resistics.time.reader_lemib423e.folderB423EHeaders"><code class="xref py py-meth docutils literal notranslate"><span class="pre">folderB423EHeaders()</span></code></a> method as shown below.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>45
46
47
48
49
50
51</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># create headers for all measurements in a folder</span>
<span class="n">folderPath</span> <span class="o">=</span> <span class="n">timePath</span> <span class="o">/</span> <span class="s2">&quot;lemiB423E_site&quot;</span>
<span class="n">folderB423EHeaders</span><span class="p">(</span><span class="n">folderPath</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="n">dx</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="mf">60.7</span><span class="p">,</span> <span class="n">ex</span><span class="o">=</span><span class="s2">&quot;E1&quot;</span><span class="p">,</span> <span class="n">ey</span><span class="o">=</span><span class="s2">&quot;E2&quot;</span><span class="p">)</span>
<span class="n">lemiPath</span> <span class="o">=</span> <span class="n">folderPath</span> <span class="o">/</span> <span class="s2">&quot;lemi01&quot;</span>
<span class="n">lemiReader</span> <span class="o">=</span> <span class="n">TimeReaderLemiB423E</span><span class="p">(</span><span class="n">lemiPath</span><span class="p">)</span>
<span class="n">lemiReader</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>
<span class="n">lemiReader</span><span class="o">.</span><span class="n">printDataFileInfo</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<p>In this case, the folder structure before headers was:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>lemiB423_site
├── lemi01
|   └── 1558948829.B423
└── lemi01
    └── 1558959633.B423
</pre></div>
</div>
<p>After generating the headers, the folder structure looks as below.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>lemiB423_site
├── lemi01
|   ├── 1558948829.B423
|   ├── chan_00.h423
|   ├── chan_01.h423
|   ├── chan_02.h423
|   ├── chan_03.h423
|   ├── chan_04.h423
|   └── global.h423
└── lemi01
    ├── 1558959633.B423
    ├── chan_00.h423
    ├── chan_01.h423
    ├── chan_02.h423
    ├── chan_03.h423
    ├── chan_04.h423
    └── global.h423
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Once the header files are generated, the measurement data can be added to a resistics project and processed just as any other dataset.</p>
</div>
</div>
<div class="section" id="lemi-b423e-telluric-data">
<h2>Lemi B423E telluric data<a class="headerlink" href="#lemi-b423e-telluric-data" title="Permalink to this headline">¶</a></h2>
<p>Now the headers have been generated, the data can be read as normal. Similar to Lemi B423 data, the raw unscaled data is in integer counts and there are two sets of scaling that can be applied.</p>
<ol class="arabic simple">
<li>The first converts the integer counts to microvolts for electric channels. To get this data, the scale keyword to <a class="reference internal" href="../../api/resistics.time.reader_lemib423.html#resistics.time.reader_lemib423.TimeReaderLemiB423.getUnscaledSamples" title="resistics.time.reader_lemib423.TimeReaderLemiB423.getUnscaledSamples"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getUnscaledSamples()</span></code></a> needs to be set to <code class="code python docutils literal notranslate"><span class="name builtin pseudo"><span class="pre">True</span></span></code>.</li>
<li>The second scaling converts the microvolt electric channels to mV/km by also dividing by the diploe lengths in km. This is the resistics standard field units. The methods <a class="reference internal" href="../../api/resistics.time.reader_lemib423e.html#resistics.time.reader_lemib423e.TimeReaderLemiB423E.getPhysicalSamples" title="resistics.time.reader_lemib423e.TimeReaderLemiB423E.getPhysicalSamples"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getPhysicalSamples()</span></code></a> or <a class="reference internal" href="../../api/resistics.time.reader.html#resistics.time.reader.TimeReader.getPhysicalData" title="resistics.time.reader.TimeReader.getPhysicalData"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getPhysicalData()</span></code></a> will return a <a class="reference internal" href="../../api/resistics.time.data.html#resistics.time.data.TimeData" title="resistics.time.data.TimeData"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeData</span></code></a> object in field units.</li>
</ol>
<p>Plotting the integer counts can be achieved as follows:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># plot data</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="n">unscaledLemiData</span> <span class="o">=</span> <span class="n">lemiReader</span><span class="o">.</span><span class="n">getUnscaledSamples</span><span class="p">(</span>
    <span class="n">startSample</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">endSample</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="bp">False</span>
<span class="p">)</span>
<span class="n">unscaledLemiData</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">unscaledLemiData</span><span class="o">.</span><span class="n">numChans</span><span class="p">))</span>
<span class="n">unscaledLemiData</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">sampleStop</span><span class="o">=</span><span class="n">unscaledLemiData</span><span class="o">.</span><span class="n">numSamples</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">])</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">timeImages</span> <span class="o">/</span> <span class="s2">&quot;lemiB423EUnscaled.png&quot;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<div class="align-center figure" id="id5">
<img alt="alternate text" src="../../_images/lemiB423EUnscaled.png" />
<p class="caption"><span class="caption-text">Viewing unscaled data. Units here are integer counts.</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
<p>To get the electric channels in microvolts (and <strong>not</strong> corrected for dipole length):</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>27
28
29
30
31
32
33
34</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">unscaledLemiData</span> <span class="o">=</span> <span class="n">lemiReader</span><span class="o">.</span><span class="n">getUnscaledSamples</span><span class="p">(</span>
    <span class="n">startSample</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">endSample</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="bp">True</span>
<span class="p">)</span>
<span class="n">unscaledLemiData</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">unscaledLemiData</span><span class="o">.</span><span class="n">numChans</span><span class="p">))</span>
<span class="n">unscaledLemiData</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">sampleStop</span><span class="o">=</span><span class="n">unscaledLemiData</span><span class="o">.</span><span class="n">numSamples</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">])</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">timeImages</span> <span class="o">/</span> <span class="s2">&quot;lemiB423EUnscaledWithScaleOption.png&quot;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<div class="align-center figure" id="id6">
<img alt="alternate text" src="../../_images/lemiB423EUnscaledWithScaleOption.png" />
<p class="caption"><span class="caption-text">Viewing partially scaled units with electric channels in microvolts.</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
<p>Finally, to get electric channels in field units, which is mV/km, the <a class="reference internal" href="../../api/resistics.time.reader_lemib423e.html#resistics.time.reader_lemib423e.TimeReaderLemiB423E.getPhysicalSamples" title="resistics.time.reader_lemib423e.TimeReaderLemiB423E.getPhysicalSamples"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getPhysicalSamples()</span></code></a> or <a class="reference internal" href="../../api/resistics.time.reader.html#resistics.time.reader.TimeReader.getPhysicalData" title="resistics.time.reader.TimeReader.getPhysicalData"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getPhysicalData()</span></code></a> methods can be used.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>36
37
38
39
40
41
42
43</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">physicalLemiData</span> <span class="o">=</span> <span class="n">lemiReader</span><span class="o">.</span><span class="n">getPhysicalSamples</span><span class="p">(</span>
    <span class="n">chans</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Ex&quot;</span><span class="p">,</span> <span class="s2">&quot;Ey&quot;</span><span class="p">],</span> <span class="n">startSample</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">endSample</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span> <span class="n">remaverage</span><span class="o">=</span><span class="bp">True</span>
<span class="p">)</span>
<span class="n">physicalLemiData</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">physicalLemiData</span><span class="o">.</span><span class="n">numChans</span><span class="p">))</span>
<span class="n">physicalLemiData</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">sampleStop</span><span class="o">=</span><span class="n">physicalLemiData</span><span class="o">.</span><span class="n">numSamples</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">])</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">timeImages</span> <span class="o">/</span> <span class="s2">&quot;lemiB423EPhysical.png&quot;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<div class="align-center figure" id="id7">
<img alt="alternate text" src="../../_images/lemiB423EPhysical.png" />
<p class="caption"><span class="caption-text">Viewing electric channels in mV/km or field units.</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="complete-example-script">
<h2>Complete example script<a class="headerlink" href="#complete-example-script" title="Permalink to this headline">¶</a></h2>
<p>For the purposes of clarity, the complete example scripts are shown below.</p>
<p>For reading Lemi B423 magnetotelluric data.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datapaths</span> <span class="kn">import</span> <span class="n">timePath</span><span class="p">,</span> <span class="n">timeImages</span>
<span class="kn">from</span> <span class="nn">resistics.time.reader_lemib423</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">TimeReaderLemiB423</span><span class="p">,</span>
    <span class="n">measB423Headers</span><span class="p">,</span>
    <span class="n">folderB423Headers</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">lemiPath</span> <span class="o">=</span> <span class="n">timePath</span> <span class="o">/</span> <span class="s2">&quot;lemiB423&quot;</span>
<span class="n">measB423Headers</span><span class="p">(</span>
    <span class="n">lemiPath</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="n">hxSensor</span><span class="o">=</span><span class="mi">712</span><span class="p">,</span> <span class="n">hySensor</span><span class="o">=</span><span class="mi">710</span><span class="p">,</span> <span class="n">hzSensor</span><span class="o">=</span><span class="mi">714</span><span class="p">,</span> <span class="n">hGain</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">dx</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="mf">60.7</span>
<span class="p">)</span>

<span class="n">lemiReader</span> <span class="o">=</span> <span class="n">TimeReaderLemiB423</span><span class="p">(</span><span class="n">lemiPath</span><span class="p">)</span>
<span class="n">lemiReader</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>
<span class="n">lemiReader</span><span class="o">.</span><span class="n">printDataFileInfo</span><span class="p">()</span>

<span class="c1"># plot data</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="n">unscaledLemiData</span> <span class="o">=</span> <span class="n">lemiReader</span><span class="o">.</span><span class="n">getUnscaledSamples</span><span class="p">()</span>
<span class="n">unscaledLemiData</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">unscaledLemiData</span><span class="o">.</span><span class="n">numChans</span><span class="p">))</span>
<span class="n">unscaledLemiData</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">sampleStop</span><span class="o">=</span><span class="mi">10000</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">])</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">timeImages</span> <span class="o">/</span> <span class="s2">&quot;lemiB423Unscaled.png&quot;</span><span class="p">)</span>

<span class="n">startTime</span> <span class="o">=</span> <span class="s2">&quot;2019-05-27 15:00:00&quot;</span>
<span class="n">stopTime</span> <span class="o">=</span> <span class="s2">&quot;2019-05-27 15:00:15&quot;</span>
<span class="n">unscaledLemiData</span> <span class="o">=</span> <span class="n">lemiReader</span><span class="o">.</span><span class="n">getUnscaledData</span><span class="p">(</span><span class="n">startTime</span><span class="p">,</span> <span class="n">stopTime</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">unscaledLemiData</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">unscaledLemiData</span><span class="o">.</span><span class="n">numChans</span><span class="p">))</span>
<span class="n">unscaledLemiData</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">sampleStop</span><span class="o">=</span><span class="n">unscaledLemiData</span><span class="o">.</span><span class="n">numSamples</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">])</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">timeImages</span> <span class="o">/</span> <span class="s2">&quot;lemiB423UnscaledWithScaleOption.png&quot;</span><span class="p">)</span>

<span class="n">physicalLemiData</span> <span class="o">=</span> <span class="n">lemiReader</span><span class="o">.</span><span class="n">getPhysicalData</span><span class="p">(</span><span class="n">startTime</span><span class="p">,</span> <span class="n">stopTime</span><span class="p">)</span>
<span class="n">physicalLemiData</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">physicalLemiData</span><span class="o">.</span><span class="n">numChans</span><span class="p">))</span>
<span class="n">physicalLemiData</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">sampleStop</span><span class="o">=</span><span class="n">physicalLemiData</span><span class="o">.</span><span class="n">numSamples</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">])</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">timeImages</span> <span class="o">/</span> <span class="s2">&quot;lemiB423PhysicalData.png&quot;</span><span class="p">)</span>

<span class="c1"># write out as the internal format</span>
<span class="kn">from</span> <span class="nn">resistics.time.writer_internal</span> <span class="kn">import</span> <span class="n">TimeWriterInternal</span>

<span class="n">lemiB423_2internal</span> <span class="o">=</span> <span class="n">timePath</span> <span class="o">/</span> <span class="s2">&quot;lemiB423Internal&quot;</span>
<span class="n">writer</span> <span class="o">=</span> <span class="n">TimeWriterInternal</span><span class="p">()</span>
<span class="n">writer</span><span class="o">.</span><span class="n">setOutPath</span><span class="p">(</span><span class="n">lemiB423_2internal</span><span class="p">)</span>
<span class="n">writer</span><span class="o">.</span><span class="n">writeDataset</span><span class="p">(</span><span class="n">lemiReader</span><span class="p">,</span> <span class="n">physical</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="c1"># read in the internal format dataset, see comments and plot original lemi data</span>
<span class="kn">from</span> <span class="nn">resistics.time.reader_internal</span> <span class="kn">import</span> <span class="n">TimeReaderInternal</span>

<span class="n">internalReader</span> <span class="o">=</span> <span class="n">TimeReaderInternal</span><span class="p">(</span><span class="n">lemiB423_2internal</span><span class="p">)</span>
<span class="n">internalReader</span><span class="o">.</span><span class="n">printComments</span><span class="p">()</span>
<span class="n">physicalInternalData</span> <span class="o">=</span> <span class="n">internalReader</span><span class="o">.</span><span class="n">getPhysicalData</span><span class="p">(</span><span class="n">startTime</span><span class="p">,</span> <span class="n">stopTime</span><span class="p">)</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">physicalLemiData</span><span class="o">.</span><span class="n">numChans</span><span class="p">))</span>
<span class="n">physicalLemiData</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">sampleStop</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Lemi B423 format&quot;</span><span class="p">)</span>
<span class="n">physicalInternalData</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">sampleStop</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Internal format&quot;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">])</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">timeImages</span> <span class="o">/</span> <span class="s2">&quot;lemiB423_vs_internal.png&quot;</span><span class="p">)</span>

<span class="c1"># preparing headers for all measurement folders in a site</span>
<span class="n">folderPath</span> <span class="o">=</span> <span class="n">timePath</span> <span class="o">/</span> <span class="s2">&quot;lemiB423_site&quot;</span>
<span class="n">folderB423Headers</span><span class="p">(</span>
    <span class="n">folderPath</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="n">hxSensor</span><span class="o">=</span><span class="mi">712</span><span class="p">,</span> <span class="n">hySensor</span><span class="o">=</span><span class="mi">710</span><span class="p">,</span> <span class="n">hzSensor</span><span class="o">=</span><span class="mi">714</span><span class="p">,</span> <span class="n">hGain</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">dx</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="mf">60.7</span>
<span class="p">)</span>

<span class="n">lemiPath</span> <span class="o">=</span> <span class="n">folderPath</span> <span class="o">/</span> <span class="s2">&quot;lemi01&quot;</span>
<span class="n">lemiReader</span> <span class="o">=</span> <span class="n">TimeReaderLemiB423</span><span class="p">(</span><span class="n">lemiPath</span><span class="p">)</span>
<span class="n">lemiReader</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>
<span class="n">lemiReader</span><span class="o">.</span><span class="n">printDataFileInfo</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<p>And reading Lemi B423E telluric data.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datapaths</span> <span class="kn">import</span> <span class="n">timePath</span><span class="p">,</span> <span class="n">timeImages</span>
<span class="kn">from</span> <span class="nn">resistics.time.reader_lemib423e</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">TimeReaderLemiB423E</span><span class="p">,</span>
    <span class="n">measB423EHeaders</span><span class="p">,</span>
    <span class="n">folderB423EHeaders</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">lemiPath</span> <span class="o">=</span> <span class="n">timePath</span> <span class="o">/</span> <span class="s2">&quot;lemiB423E&quot;</span>
<span class="n">measB423EHeaders</span><span class="p">(</span><span class="n">lemiPath</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="n">dx</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="mf">60.7</span><span class="p">,</span> <span class="n">ex</span><span class="o">=</span><span class="s2">&quot;E1&quot;</span><span class="p">,</span> <span class="n">ey</span><span class="o">=</span><span class="s2">&quot;E2&quot;</span><span class="p">)</span>

<span class="n">lemiReader</span> <span class="o">=</span> <span class="n">TimeReaderLemiB423E</span><span class="p">(</span><span class="n">lemiPath</span><span class="p">)</span>
<span class="n">lemiReader</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>
<span class="n">lemiReader</span><span class="o">.</span><span class="n">printDataFileInfo</span><span class="p">()</span>

<span class="c1"># plot data</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="n">unscaledLemiData</span> <span class="o">=</span> <span class="n">lemiReader</span><span class="o">.</span><span class="n">getUnscaledSamples</span><span class="p">(</span>
    <span class="n">startSample</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">endSample</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="bp">False</span>
<span class="p">)</span>
<span class="n">unscaledLemiData</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">unscaledLemiData</span><span class="o">.</span><span class="n">numChans</span><span class="p">))</span>
<span class="n">unscaledLemiData</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">sampleStop</span><span class="o">=</span><span class="n">unscaledLemiData</span><span class="o">.</span><span class="n">numSamples</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">])</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">timeImages</span> <span class="o">/</span> <span class="s2">&quot;lemiB423EUnscaled.png&quot;</span><span class="p">)</span>

<span class="n">unscaledLemiData</span> <span class="o">=</span> <span class="n">lemiReader</span><span class="o">.</span><span class="n">getUnscaledSamples</span><span class="p">(</span>
    <span class="n">startSample</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">endSample</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="bp">True</span>
<span class="p">)</span>
<span class="n">unscaledLemiData</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">unscaledLemiData</span><span class="o">.</span><span class="n">numChans</span><span class="p">))</span>
<span class="n">unscaledLemiData</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">sampleStop</span><span class="o">=</span><span class="n">unscaledLemiData</span><span class="o">.</span><span class="n">numSamples</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">])</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">timeImages</span> <span class="o">/</span> <span class="s2">&quot;lemiB423EUnscaledWithScaleOption.png&quot;</span><span class="p">)</span>

<span class="n">physicalLemiData</span> <span class="o">=</span> <span class="n">lemiReader</span><span class="o">.</span><span class="n">getPhysicalSamples</span><span class="p">(</span>
    <span class="n">chans</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Ex&quot;</span><span class="p">,</span> <span class="s2">&quot;Ey&quot;</span><span class="p">],</span> <span class="n">startSample</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">endSample</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span> <span class="n">remaverage</span><span class="o">=</span><span class="bp">True</span>
<span class="p">)</span>
<span class="n">physicalLemiData</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">physicalLemiData</span><span class="o">.</span><span class="n">numChans</span><span class="p">))</span>
<span class="n">physicalLemiData</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">sampleStop</span><span class="o">=</span><span class="n">physicalLemiData</span><span class="o">.</span><span class="n">numSamples</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">])</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">timeImages</span> <span class="o">/</span> <span class="s2">&quot;lemiB423EPhysical.png&quot;</span><span class="p">)</span>

<span class="c1"># create headers for all measurements in a folder</span>
<span class="n">folderPath</span> <span class="o">=</span> <span class="n">timePath</span> <span class="o">/</span> <span class="s2">&quot;lemiB423E_site&quot;</span>
<span class="n">folderB423EHeaders</span><span class="p">(</span><span class="n">folderPath</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="n">dx</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="mf">60.7</span><span class="p">,</span> <span class="n">ex</span><span class="o">=</span><span class="s2">&quot;E1&quot;</span><span class="p">,</span> <span class="n">ey</span><span class="o">=</span><span class="s2">&quot;E2&quot;</span><span class="p">)</span>
<span class="n">lemiPath</span> <span class="o">=</span> <span class="n">folderPath</span> <span class="o">/</span> <span class="s2">&quot;lemi01&quot;</span>
<span class="n">lemiReader</span> <span class="o">=</span> <span class="n">TimeReaderLemiB423E</span><span class="p">(</span><span class="n">lemiPath</span><span class="p">)</span>
<span class="n">lemiReader</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>
<span class="n">lemiReader</span><span class="o">.</span><span class="n">printDataFileInfo</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Phoenix-timeseries.html" class="btn btn-neutral float-right" title="Phoenix timeseries" accesskey="n" rel="next">Next</a>
      
      
        <a href="SPAM-timeseries.html" class="btn btn-neutral" title="SPAM timeseries" accesskey="p" rel="prev">Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Neeraj Shah.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/unitedstack/sphinx_rtd_theme">theme</a> provided by <a href="https://github.com/unitedstack">UnitedStack</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.0.6.dev3',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/language_data.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>