

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ASCII Calibration &mdash; resistics rc1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css\custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Tutorial" href="../../tutorial.html" />
    <link rel="prev" title="RSPX Calibration" href="rspx-calibration.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> resistics
          

          
            
            <img src="../../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.0.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../conventions.html">Conventions</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../formats.html">Data formats</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../timeseries.html">Timeseries data</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../calibration.html">Calibration data</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="metronix-calibration.html">Metronix Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="rsp-calibration.html">RSP Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="rspx-calibration.html">RSPX Calibration</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">ASCII Calibration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advanced.html">Advanced</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cookbook.html">Cookbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modules.html">API reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../roadmap.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bibliography.html">Bibliography</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../donate.html">Donate</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contact.html">Contact</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">resistics</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../formats.html">Data formats</a> &raquo;</li>
        
          <li><a href="../calibration.html">Calibration data</a> &raquo;</li>
        
      <li>ASCII Calibration</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/formats/calibration/ascii-calibration.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ascii-calibration">
<h1>ASCII Calibration<a class="headerlink" href="#ascii-calibration" title="Permalink to this headline">¶</a></h1>
<p>The internal ASCII calibration format is a simple ASCII format meant to be used when no other format is available. Each file only contains one set of calibration data (no chopper on or off) and there is no provision for different chopper on and off files.</p>
<p>The units of the internal format ASCII calibration files are interpreted to be:</p>
<ul class="simple">
<li>Frequency in Hz</li>
<li>Magnitude in mV/nT</li>
<li>Phase in degrees or radians depending on the “Phase unit” header</li>
</ul>
<p>Resistics will automatically convert these units to:</p>
<ul class="simple">
<li>Frequency in Hz</li>
<li>Magnitude in mV/nT (including any static gain)</li>
<li>Phase in radians</li>
</ul>
<div class="section" id="naming-in-the-project-environment">
<h2>Naming in the project environment<a class="headerlink" href="#naming-in-the-project-environment" title="Permalink to this headline">¶</a></h2>
<p>When using the project environment, resistics automatically searches for calibration files in the calData folder.
Internal format ASCII files should be named according to the following specification:</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p>[*]IC_[SERIAL].txt</p>
<p>where,</p>
<ul class="last simple">
<li>SERIAL is the sensor serial number</li>
<li>[*] represents any general string</li>
</ul>
</div>
<p>As an example, consider an induction coil with:</p>
<ul class="simple">
<li>sensor serial number 307</li>
</ul>
<p>Then the file should be named:</p>
<ul class="simple">
<li>IC_307.TXT</li>
<li>Or with any leading text, e.g. magcal_IC_307.TXT</li>
</ul>
<p>As can be seen, there is no ability to distinguish different sensors with the same serial number or situations where chopper is on or off. For those cases, <a class="reference internal" href="rsp-calibration.html"><span class="doc">RSP</span></a> or <a class="reference internal" href="metronix-calibration.html"><span class="doc">Metronix</span></a> formats are better.</p>
</div>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>The internal ASCII format calibration file will not usually be provided and will have to be created from scratch. The <a class="reference internal" href="../../api/resistics.ioHandlers.calibrationIO.html#resistics.ioHandlers.calibrationIO.CalibrationIO" title="resistics.ioHandlers.calibrationIO.CalibrationIO"><code class="xref py py-class docutils literal notranslate"><span class="pre">CalibrationIO</span></code></a> class provides the handy <a class="reference internal" href="../../api/resistics.ioHandlers.calibrationIO.html#resistics.ioHandlers.calibrationIO.CalibrationIO.writeInternalTemplate" title="resistics.ioHandlers.calibrationIO.CalibrationIO.writeInternalTemplate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">writeInternalTemplate()</span></code></a> method for producing a template internal ASCII format calibration file. A template can be made as follows:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">resistics.ioHandlers.calibrationIO</span> <span class="kn">import</span> <span class="n">CalibrationIO</span>
<span class="kn">from</span> <span class="nn">resistics.ioHandlers.calibrationIO</span> <span class="kn">import</span> <span class="n">CalibrationData</span>

<span class="c1"># we can write a template into which to paste our data</span>
<span class="n">writepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;calData&quot;</span><span class="p">,</span> <span class="s2">&quot;ascii.txt&quot;</span><span class="p">)</span>
<span class="n">calIO</span> <span class="o">=</span> <span class="n">CalibrationIO</span><span class="p">()</span>
<span class="n">calIO</span><span class="o">.</span><span class="n">writeInternalTemplate</span><span class="p">(</span><span class="n">writepath</span><span class="p">,</span> <span class="mi">307</span><span class="p">,</span> <span class="s2">&quot;MFS06&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>This produces an empty calibration file with some basic information in:</p>
<div class="highlight-text notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span>Serial = 307
Sensor = MFS06
Static gain = 1
Magnitude unit = mV/nT
Phase unit = degrees
Chopper = False

CALIBRATION DATA
</pre></div>
</td></tr></table></div>
<p>The basic metadata can either be corrected in the file or passed as keywords to <a class="reference internal" href="../../api/resistics.ioHandlers.calibrationIO.html#resistics.ioHandlers.calibrationIO.CalibrationIO.writeInternalTemplate" title="resistics.ioHandlers.calibrationIO.CalibrationIO.writeInternalTemplate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">writeInternalTemplate()</span></code></a>. The actual calibration data needs to be copied in and should be in the units:</p>
<ul class="simple">
<li>Magnitude in mV/nT without static gain</li>
<li>Phase in units which match the “Phase unit” header, which can either be degrees or radians</li>
</ul>
<p>An example file with calibration data copied is provided below.</p>
<div class="highlight-text notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39</pre></div></td><td class="code"><div class="highlight"><pre><span></span>Serial = 307
Sensor = MFS06
Static gain = 1
Magnitude unit = mV/nT
Phase unit = radians
Chopper = False

CALIBRATION DATA
+1.0000e-01  +1.9967e+01  +1.5452e+00
+1.4678e-01  +2.9303e+01  +1.5339e+00
+2.1544e-01  +4.2933e+01  +1.5173e+00
+3.1623e-01  +6.2901e+01  +1.4931e+00
+4.6416e-01  +9.1945e+01  +1.4576e+00
+6.8130e-01  +1.3418e+02  +1.4051e+00
+1.0000e+00  +1.9404e+02  +1.3394e+00
+1.4678e+00  +2.7551e+02  +1.2296e+00
+2.1544e+00  +3.8111e+02  +1.0904e+00
+3.1623e+00  +5.0078e+02  +9.1815e-01
+4.6416e+00  +6.1636e+02  +7.2902e-01
+6.8130e+00  +7.0664e+02  +5.4810e-01
+1.0000e+01  +7.6400e+02  +3.9286e-01
+1.4678e+01  +7.9669e+02  +2.7489e-01
+2.1545e+01  +8.1231e+02  +1.8837e-01
+3.1623e+01  +8.2062e+02  +1.2735e-01
+4.6416e+01  +8.2453e+02  +8.4177e-02
+6.8130e+01  +8.2219e+02  +4.5146e-02
+1.0000e+02  +8.2609e+02  +2.8629e-02
+1.4678e+02  +8.2567e+02  +1.0910e-02
+2.1545e+02  +8.2660e+02  -7.6749e-03
+3.1623e+02  +8.2631e+02  -2.6356e-02
+4.6417e+02  +8.2636e+02  -4.8977e-02
+6.8130e+02  +8.2730e+02  -7.8009e-02
+1.0000e+03  +8.2795e+02  -1.2135e-01
+1.4678e+03  +8.2721e+02  -1.8637e-01
+2.1545e+03  +8.1548e+02  -2.8374e-01
+3.1623e+03  +7.9639e+02  -4.2317e-01
+4.6417e+03  +7.1928e+02  -6.2696e-01
+6.8130e+03  +6.1971e+02  -7.4339e-01
+1.0000e+04  +5.7145e+02  -9.7107e-01
</pre></div>
</td></tr></table></div>
<p>This internal format ASCII calibration file can now be read in using the <a class="reference internal" href="../../api/resistics.ioHandlers.calibrationIO.html#resistics.ioHandlers.calibrationIO.CalibrationIO" title="resistics.ioHandlers.calibrationIO.CalibrationIO"><code class="xref py py-class docutils literal notranslate"><span class="pre">CalibrationIO</span></code></a> class. First, the reading parameters need to be reset using the <a class="reference internal" href="../../api/resistics.ioHandlers.calibrationIO.html#resistics.ioHandlers.calibrationIO.CalibrationIO.refresh" title="resistics.ioHandlers.calibrationIO.CalibrationIO.refresh"><code class="xref py py-meth docutils literal notranslate"><span class="pre">refresh()</span></code></a> method. Using the <a class="reference internal" href="../../api/resistics.ioHandlers.calibrationIO.html#resistics.ioHandlers.calibrationIO.CalibrationIO.read" title="resistics.ioHandlers.calibrationIO.CalibrationIO.read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code></a> method will return a <a class="reference internal" href="../../api/resistics.dataObjects.calibrationData.html#resistics.dataObjects.calibrationData.CalibrationData" title="resistics.dataObjects.calibrationData.CalibrationData"><code class="xref py py-class docutils literal notranslate"><span class="pre">CalibrationData</span></code></a> object.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># read back the internal template file</span>
<span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;calData&quot;</span><span class="p">,</span> <span class="s2">&quot;asciiWithData.txt&quot;</span><span class="p">)</span>
<span class="n">calIO</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s2">&quot;induction&quot;</span><span class="p">,</span> <span class="n">extend</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">calData</span> <span class="o">=</span> <span class="n">calIO</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">calData</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<p>The <a class="reference internal" href="../../api/resistics.dataObjects.dataObject.html#resistics.dataObjects.dataObject.DataObject.printInfo" title="resistics.dataObjects.dataObject.DataObject.printInfo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">printInfo()</span></code></a> method prints information about the calibration data.</p>
<div class="highlight-text notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45</pre></div></td><td class="code"><div class="highlight"><pre><span></span>15:15:46 CalibrationData: ####################
15:15:46 CalibrationData: CALIBRATIONDATA INFO BEGIN
15:15:46 CalibrationData: ####################
15:15:46 CalibrationData: Filename = calData\asciiWithData.txt
15:15:46 CalibrationData: Serial = 307
15:15:46 CalibrationData: Sensor = MFS06
15:15:46 CalibrationData: Static gain = 1.00
15:15:46 CalibrationData: Chopper = False
15:15:46 CalibrationData: Number of frequency points = 31
15:15:46 CalibrationData: Calibration data:
15:15:46 CalibrationData:          Frequency [Hz]       Mag. [mv/nT]    Phase [rad]
15:15:46 CalibrationData:              0.10000000            19.97            1.55
15:15:46 CalibrationData:              0.14678000            29.30            1.53
15:15:46 CalibrationData:              0.21544000            42.93            1.52
15:15:46 CalibrationData:              0.31623000            62.90            1.49
15:15:46 CalibrationData:              0.46416000            91.94            1.46
15:15:46 CalibrationData:              0.68130000           134.18            1.41
15:15:46 CalibrationData:              1.00000000           194.04            1.34
15:15:46 CalibrationData:              1.46780000           275.51            1.23
15:15:46 CalibrationData:              2.15440000           381.11            1.09
15:15:46 CalibrationData:              3.16230000           500.78            0.92
15:15:46 CalibrationData:              4.64160000           616.36            0.73
15:15:46 CalibrationData:              6.81300000           706.64            0.55
15:15:46 CalibrationData:             10.00000000           764.00            0.39
15:15:46 CalibrationData:             14.67800000           796.69            0.27
15:15:46 CalibrationData:             21.54500000           812.31            0.19
15:15:46 CalibrationData:             31.62300000           820.62            0.13
15:15:46 CalibrationData:             46.41600000           824.53            0.08
15:15:46 CalibrationData:             68.13000000           822.19            0.05
15:15:46 CalibrationData:            100.00000000           826.09            0.03
15:15:46 CalibrationData:            146.78000000           825.67            0.01
15:15:46 CalibrationData:            215.45000000           826.60           -0.01
15:15:46 CalibrationData:            316.23000000           826.31           -0.03
15:15:46 CalibrationData:            464.17000000           826.36           -0.05
15:15:46 CalibrationData:            681.30000000           827.30           -0.08
15:15:46 CalibrationData:           1000.00000000           827.95           -0.12
15:15:46 CalibrationData:           1467.80000000           827.21           -0.19
15:15:46 CalibrationData:           2154.50000000           815.48           -0.28
15:15:46 CalibrationData:           3162.30000000           796.39           -0.42
15:15:46 CalibrationData:           4641.70000000           719.28           -0.63
15:15:46 CalibrationData:           6813.00000000           619.71           -0.74
15:15:46 CalibrationData:          10000.00000000           571.45           -0.97
15:15:46 CalibrationData: ####################
15:15:46 CalibrationData: CALIBRATIONDATA INFO END
15:15:46 CalibrationData: ####################
</pre></div>
</td></tr></table></div>
<p>To view the calibration data, the <a class="reference internal" href="../../api/resistics.dataObjects.calibrationData.html#resistics.dataObjects.calibrationData.CalibrationData.view" title="resistics.dataObjects.calibrationData.CalibrationData.view"><code class="xref py py-meth docutils literal notranslate"><span class="pre">view()</span></code></a> method of <a class="reference internal" href="../../api/resistics.dataObjects.calibrationData.html#resistics.dataObjects.calibrationData.CalibrationData" title="resistics.dataObjects.calibrationData.CalibrationData"><code class="xref py py-class docutils literal notranslate"><span class="pre">CalibrationData</span></code></a> can be used. By passing a matplotlib figure to this, the layout of the plot can be controlled.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># plot</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">calData</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Internal ASCII format&quot;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;calibrationASCII.png&quot;</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
<p>This produces the following plot:</p>
<div class="align-center figure" id="id1">
<img alt="alternate text" src="../../_images/calibrationASCII.png" />
<p class="caption"><span class="caption-text">Viewing the unextended calibration data from the internal format ASCII file</span></p>
</div>
</div>
<div class="section" id="complete-example-script">
<h2>Complete example script<a class="headerlink" href="#complete-example-script" title="Permalink to this headline">¶</a></h2>
<p>For the purposes of clarity, the example script in full.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">resistics.ioHandlers.calibrationIO</span> <span class="kn">import</span> <span class="n">CalibrationIO</span>
<span class="kn">from</span> <span class="nn">resistics.ioHandlers.calibrationIO</span> <span class="kn">import</span> <span class="n">CalibrationData</span>

<span class="c1"># we can write a template into which to paste our data</span>
<span class="n">writepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;calData&quot;</span><span class="p">,</span> <span class="s2">&quot;ascii.txt&quot;</span><span class="p">)</span>
<span class="n">calIO</span> <span class="o">=</span> <span class="n">CalibrationIO</span><span class="p">()</span>
<span class="n">calIO</span><span class="o">.</span><span class="n">writeInternalTemplate</span><span class="p">(</span><span class="n">writepath</span><span class="p">,</span> <span class="mi">307</span><span class="p">,</span> <span class="s2">&quot;MFS06&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># read back the internal template file</span>
<span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;calData&quot;</span><span class="p">,</span> <span class="s2">&quot;asciiWithData.txt&quot;</span><span class="p">)</span>
<span class="n">calIO</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s2">&quot;induction&quot;</span><span class="p">,</span> <span class="n">extend</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">calData</span> <span class="o">=</span> <span class="n">calIO</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">calData</span><span class="o">.</span><span class="n">printInfo</span><span class="p">()</span>

<span class="c1"># plot</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">calData</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Internal ASCII format&quot;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;calibrationASCII.png&quot;</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-text notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39</pre></div></td><td class="code"><div class="highlight"><pre><span></span>Serial = 307
Sensor = MFS06
Static gain = 1
Magnitude unit = mV/nT
Phase unit = radians
Chopper = False

CALIBRATION DATA
+1.0000e-01  +1.9967e+01  +1.5452e+00
+1.4678e-01  +2.9303e+01  +1.5339e+00
+2.1544e-01  +4.2933e+01  +1.5173e+00
+3.1623e-01  +6.2901e+01  +1.4931e+00
+4.6416e-01  +9.1945e+01  +1.4576e+00
+6.8130e-01  +1.3418e+02  +1.4051e+00
+1.0000e+00  +1.9404e+02  +1.3394e+00
+1.4678e+00  +2.7551e+02  +1.2296e+00
+2.1544e+00  +3.8111e+02  +1.0904e+00
+3.1623e+00  +5.0078e+02  +9.1815e-01
+4.6416e+00  +6.1636e+02  +7.2902e-01
+6.8130e+00  +7.0664e+02  +5.4810e-01
+1.0000e+01  +7.6400e+02  +3.9286e-01
+1.4678e+01  +7.9669e+02  +2.7489e-01
+2.1545e+01  +8.1231e+02  +1.8837e-01
+3.1623e+01  +8.2062e+02  +1.2735e-01
+4.6416e+01  +8.2453e+02  +8.4177e-02
+6.8130e+01  +8.2219e+02  +4.5146e-02
+1.0000e+02  +8.2609e+02  +2.8629e-02
+1.4678e+02  +8.2567e+02  +1.0910e-02
+2.1545e+02  +8.2660e+02  -7.6749e-03
+3.1623e+02  +8.2631e+02  -2.6356e-02
+4.6417e+02  +8.2636e+02  -4.8977e-02
+6.8130e+02  +8.2730e+02  -7.8009e-02
+1.0000e+03  +8.2795e+02  -1.2135e-01
+1.4678e+03  +8.2721e+02  -1.8637e-01
+2.1545e+03  +8.1548e+02  -2.8374e-01
+3.1623e+03  +7.9639e+02  -4.2317e-01
+4.6417e+03  +7.1928e+02  -6.2696e-01
+6.8130e+03  +6.1971e+02  -7.4339e-01
+1.0000e+04  +5.7145e+02  -9.7107e-01
</pre></div>
</td></tr></table></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../tutorial.html" class="btn btn-neutral float-right" title="Tutorial" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="rspx-calibration.html" class="btn btn-neutral float-left" title="RSPX Calibration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Neeraj Shah

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>