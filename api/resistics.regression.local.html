

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>resistics.regression.local module &mdash; resistics 0.0.6.dev3 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.png"/>
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="resistics.regression.remote module" href="resistics.regression.remote.html" />
    <link rel="prev" title="resistics.regression package" href="resistics.regression.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html"> resistics
          

          
            
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.0.6
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search..." />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../conventions.html">Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../formats.html">Data formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced.html">Advanced</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cookbook.html">Cookbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../case-studies.html">Case studies</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../modules.html">API reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="resistics.common.html">resistics.common package</a></li>
<li class="toctree-l2"><a class="reference internal" href="resistics.config.html">resistics.config package</a></li>
<li class="toctree-l2"><a class="reference internal" href="resistics.time.html">resistics.time package</a></li>
<li class="toctree-l2"><a class="reference internal" href="resistics.spectra.html">resistics.spectra package</a></li>
<li class="toctree-l2"><a class="reference internal" href="resistics.statistics.html">resistics.statistics package</a></li>
<li class="toctree-l2"><a class="reference internal" href="resistics.mask.html">resistics.mask package</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="resistics.regression.html">resistics.regression package</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">resistics.regression.local module</a></li>
<li class="toctree-l3"><a class="reference internal" href="resistics.regression.remote.html">resistics.regression.remote module</a></li>
<li class="toctree-l3"><a class="reference internal" href="resistics.regression.robust.html">resistics.regression.robust module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="resistics.transfunc.html">resistics.transfunc package</a></li>
<li class="toctree-l2"><a class="reference internal" href="resistics.site.html">resistics.site package</a></li>
<li class="toctree-l2"><a class="reference internal" href="resistics.project.html">resistics.project package</a></li>
<li class="toctree-l2"><a class="reference internal" href="resistics.calibrate.html">resistics.calibrate package</a></li>
<li class="toctree-l2"><a class="reference internal" href="resistics.window.html">resistics.window package</a></li>
<li class="toctree-l2"><a class="reference internal" href="resistics.decimate.html">resistics.decimate package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog / backlog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bibliography.html">Bibliography</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../donate.html">Donate</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contact.html">Contact</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">resistics</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">resistics</a> &raquo;</li>
        
          <li><a href="../modules.html">API reference</a> &raquo;</li>
        
          <li><a href="resistics.regression.html">resistics.regression package</a> &raquo;</li>
        
      <li>resistics.regression.local module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/resistics.regression.local.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-resistics.regression.local">
<span id="resistics-regression-local-module"></span><h1>resistics.regression.local module<a class="headerlink" href="#module-resistics.regression.local" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="resistics.regression.local.LocalRegressor">
<em class="property">class </em><code class="descclassname">resistics.regression.local.</code><code class="descname">LocalRegressor</code><span class="sig-paren">(</span><em>winSelector: resistics.window.selector.WindowSelector</em>, <em>outpath: str</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/resistics/regression/local.html#LocalRegressor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#resistics.regression.local.LocalRegressor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="resistics.common.base.html#resistics.common.base.ResisticsBase" title="resistics.common.base.ResisticsBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">resistics.common.base.ResisticsBase</span></code></a></p>
<p>Performs single site (or intersite) transfer function calculations</p>
<p>By default, the LocalRegression is setup to calculate the impedance tensor using Hx, Hy as input channels and Ex, Ey as output channels. To calculate the Tipper, the appropriate input and output channels have to be set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Attributes:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>winSelector</strong><span class="classifier">WindowSelector</span></dt><dd><p>A window selector object which defines which windows to use in the linear model</p>
</dd>
<dt><strong>decParams</strong><span class="classifier">DecimationParameters</span></dt><dd><p>DecimationParameters object with information about the decimation scheme</p>
</dd>
<dt><strong>winParams</strong><span class="classifier">WindowParameters</span></dt><dd><p>WindowParameters object with information about the windowing</p>
</dd>
<dt><strong>outpath</strong><span class="classifier">str</span></dt><dd><p>Location to put the calculated transfer functions (Edi files)</p>
</dd>
<dt><strong>inSite</strong><span class="classifier">str</span></dt><dd><p>The site to use for the input channels</p>
</dd>
<dt><strong>inChannels: List[str] ([“Hx”, “Hy”])</strong></dt><dd><p>List of hannels to use as input channels for the linear system</p>
</dd>
<dt><strong>inSize</strong><span class="classifier">int</span></dt><dd><p>Number of input channels</p>
</dd>
<dt><strong>outSite</strong><span class="classifier">str</span></dt><dd><p>The site to use for the output channels</p>
</dd>
<dt><strong>outChannels</strong><span class="classifier">List[str] ([“Ex”, “Ey”])</span></dt><dd><p>List of channels to use as output channels for the linear system</p>
</dd>
<dt><strong>outSize</strong><span class="classifier">int</span></dt><dd><p>Number of output channels</p>
</dd>
<dt><strong>allChannels</strong><span class="classifier">List[str]</span></dt><dd><p>inChannels and outChannels combined into a single list</p>
</dd>
<dt><strong>crossChannels</strong><span class="classifier">List[str]</span></dt><dd><p>The channels to calculate the cross spectra out for</p>
</dd>
<dt><strong>intercept</strong><span class="classifier">bool (default False)</span></dt><dd><p>Flag for including an intercept (static) term in the linear system</p>
</dd>
<dt><strong>method</strong><span class="classifier">str (options, “ols”, “cm”)</span></dt><dd><p>String for describing what solution method to use</p>
</dd>
<dt><strong>win</strong><span class="classifier">str (default hanning)</span></dt><dd><p>Window function to use in robust solution</p>
</dd>
<dt><strong>winSmooth</strong><span class="classifier">int (default -1)</span></dt><dd><p>The size of the window smoother. If -1, this will be autocalculated based on data size</p>
</dd>
<dt><strong>postpend</strong><span class="classifier">str (default “”)</span></dt><dd><p>String to postpend to the output filename to help file management</p>
</dd>
<dt><strong>evalFreq</strong><span class="classifier">List[float] or np.ndarray</span></dt><dd><p>The evaluation frequencies</p>
</dd>
<dt><strong>impedances</strong><span class="classifier">List</span></dt><dd></dd>
<dt><strong>variances</strong><span class="classifier">List</span></dt><dd></dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="docutils align-default">
<colgroup>
<col width="43%" />
<col width="57%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>__init__(proj, winSelector, outpath)</strong></td>
<td>Initialise with a Project instance and MaskData instance</td>
</tr>
<tr class="row-even"><td><strong>setInput(inSite, inChannels)</strong></td>
<td>Set the input site and channels</td>
</tr>
<tr class="row-odd"><td><strong>setOutput(outSite, outChannels)</strong></td>
<td>Set the output site and channels</td>
</tr>
<tr class="row-even"><td><strong>process()</strong></td>
<td>Process the spectra to calculate the transfer function</td>
</tr>
<tr class="row-odd"><td><strong>getWindowSmooth()</strong></td>
<td>Get the window smooth length</td>
</tr>
<tr class="row-even"><td><strong>calcEvalFrequencyData(freq, evalFreq, winDataMatrix)</strong></td>
<td>Calculate power spectra at the evaluation frequencies (using interpolation)</td>
</tr>
<tr class="row-odd"><td><strong>smoothSpectralEstimates(data)</strong></td>
<td>Smooth the data across the spectral estimates</td>
</tr>
<tr class="row-even"><td><strong>checkForBadValues(numWindows, data)</strong></td>
<td>Check the spectral data for bad values that might cause an error</td>
</tr>
<tr class="row-odd"><td><strong>prepareLinearEqn(data)</strong></td>
<td>Prepare regressors and observations for regression from cross-power data</td>
</tr>
<tr class="row-even"><td><strong>robustProcess(numWindows, obs, reg)</strong></td>
<td>Robust regression processing</td>
</tr>
<tr class="row-odd"><td><strong>olsProcess(numWindows, obs, reg)</strong></td>
<td>Ordinary least squares processing</td>
</tr>
<tr class="row-even"><td><strong>stackedProcess(data)</strong></td>
<td>Stacked processing</td>
</tr>
<tr class="row-odd"><td><strong>printList()</strong></td>
<td>Class status returned as list of strings</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="resistics.regression.local.LocalRegressor.calcEvalFrequencyData">
<code class="descname">calcEvalFrequencyData</code><span class="sig-paren">(</span><em>self</em>, <em>freq</em>, <em>evalFreq</em>, <em>winDataMatrix</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/resistics/regression/local.html#LocalRegressor.calcEvalFrequencyData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#resistics.regression.local.LocalRegressor.calcEvalFrequencyData" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate spectral power data at evaluation frequencies</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>freq</strong><span class="classifier">np.ndarray</span></dt><dd><p>Frequency array of spectra data</p>
</dd>
<dt><strong>evalFreq</strong><span class="classifier">np.ndarray</span></dt><dd><p>Evaluation frequencies for the decimation level</p>
</dd>
<dt><strong>winDataMatrix</strong><span class="classifier">np.ndarray</span></dt><dd><p>Array holding spectral power data at frequencies freq</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>out</strong><span class="classifier">np.ndarray</span></dt><dd><p>Spectral power data interpolated to evaluation frequencies</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="resistics.regression.local.LocalRegressor.checkForBadValues">
<code class="descname">checkForBadValues</code><span class="sig-paren">(</span><em>self</em>, <em>numWindows: int</em>, <em>data: numpy.ndarray</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/resistics/regression/local.html#LocalRegressor.checkForBadValues"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#resistics.regression.local.LocalRegressor.checkForBadValues" title="Permalink to this definition">¶</a></dt>
<dd><p>Check data for bad values and remove</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>numWindows</strong><span class="classifier">int</span></dt><dd><p>The number of windows</p>
</dd>
<dt><strong>data</strong><span class="classifier">np.ndarray</span></dt><dd><p>Cross-spectra data</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>numGoodWindows</strong><span class="classifier">int</span></dt><dd><p>The number of good windows</p>
</dd>
<dt><strong>goodData</strong><span class="classifier">np.ndarray</span></dt><dd><p>The cross-spectra data with bad windows removed</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="resistics.regression.local.LocalRegressor.getWindowSmooth">
<code class="descname">getWindowSmooth</code><span class="sig-paren">(</span><em>self</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/resistics/regression/local.html#LocalRegressor.getWindowSmooth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#resistics.regression.local.LocalRegressor.getWindowSmooth" title="Permalink to this definition">¶</a></dt>
<dd><p>Window smoothing length</p>
<p>Power spectra data is smoothed. This returns the size of the smoothing window.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>datasize</strong><span class="classifier">int</span></dt><dd><p>The size of the data</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>smoothLen</strong><span class="classifier">int</span></dt><dd><p>Smoothing size</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="resistics.regression.local.LocalRegressor.olsProcess">
<code class="descname">olsProcess</code><span class="sig-paren">(</span><em>self</em>, <em>numWindows: int</em>, <em>obs: numpy.ndarray</em>, <em>reg: numpy.ndarray</em><span class="sig-paren">)</span> &#x2192; Tuple[numpy.ndarray, numpy.ndarray]<a class="reference internal" href="../_modules/resistics/regression/local.html#LocalRegressor.olsProcess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#resistics.regression.local.LocalRegressor.olsProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Ordinary least squares regression processing</p>
<p>Perform ordinary least regression processing using observations and regressors for a single evaluation frequency.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>numWindows</strong><span class="classifier">int</span></dt><dd><p>The number of windows</p>
</dd>
<dt><strong>obs</strong><span class="classifier">np.ndarray</span></dt><dd><p>The observations</p>
</dd>
<dt><strong>reg</strong><span class="classifier">np.ndarray</span></dt><dd><p>The regressors</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>output</strong><span class="classifier">np.ndarray</span></dt><dd><p>The solution to the regression problem</p>
</dd>
<dt><strong>varOutput</strong><span class="classifier">np.ndarray</span></dt><dd><p>The variance</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="resistics.regression.local.LocalRegressor.prepareLinearEqn">
<code class="descname">prepareLinearEqn</code><span class="sig-paren">(</span><em>self</em>, <em>data: numpy.ndarray</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/resistics/regression/local.html#LocalRegressor.prepareLinearEqn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#resistics.regression.local.LocalRegressor.prepareLinearEqn" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare data as a linear equation for the robust regression</p>
<p>This prepares the data for the following type of solution,</p>
<div class="math notranslate nohighlight">
\[y = Ax,\]</div>
<p>where <span class="math notranslate nohighlight">\(y\)</span> is the observations, <span class="math notranslate nohighlight">\(A\)</span> is the regressors and <span class="math notranslate nohighlight">\(x\)</span> is the unknown.</p>
<p>The number of observations is number of windows * number of cross-power channels
The shapes of the arrays are as follows:</p>
<blockquote>
<div><ul class="simple">
<li>y is (number of output channels, number of observations)</li>
<li>A is (number of output channels, number of observations, number of input channels)</li>
<li>x is (number of output channels, number of input channels)</li>
</ul>
</div></blockquote>
<p>Consider the impedance tensor,</p>
<div class="math notranslate nohighlight">
\begin{eqnarray}
E_x &amp; = &amp; Z_{xx} H_x + Z_{xy} H_y \\
E_y &amp; = &amp; Z_{yx} H_x + Z_{yy} H_y 
\end{eqnarray}  </div><p>Here, there are two input channels, <span class="math notranslate nohighlight">\(H_x\)</span>, <span class="math notranslate nohighlight">\(H_y\)</span> and two output channels <span class="math notranslate nohighlight">\(E_x\)</span> and <span class="math notranslate nohighlight">\(E_y\)</span>. In total, there are four components of the unknown impedance tensor, <span class="math notranslate nohighlight">\(Z_{xx}\)</span>, <span class="math notranslate nohighlight">\(Z_{xy}\)</span>, <span class="math notranslate nohighlight">\(Z_{yx}\)</span>, <span class="math notranslate nohighlight">\(Z_{yy}\)</span> (number of input channels * number of output channels). The number of observations is the number of windows multiplied by the number of channels used for cross-power spectra.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>data</strong><span class="classifier">np.ndarray</span></dt><dd><p>Cross-power spectral data at evaluation frequencies</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>numWindows</strong><span class="classifier">int</span></dt><dd><p>The number of windows included in the regression (after bad value removal)</p>
</dd>
<dt><strong>obs</strong><span class="classifier">np.ndarray</span></dt><dd><p>Observations array</p>
</dd>
<dt><strong>reg</strong><span class="classifier">np.ndarray</span></dt><dd><p>Regressors array</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="resistics.regression.local.LocalRegressor.printList">
<code class="descname">printList</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span> &#x2192; List[str]<a class="reference internal" href="../_modules/resistics/regression/local.html#LocalRegressor.printList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#resistics.regression.local.LocalRegressor.printList" title="Permalink to this definition">¶</a></dt>
<dd><p>Class information as a list of strings</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt>list</dt><dd><p>List of strings with information</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="resistics.regression.local.LocalRegressor.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../_modules/resistics/regression/local.html#LocalRegressor.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#resistics.regression.local.LocalRegressor.process" title="Permalink to this definition">¶</a></dt>
<dd><p>Process spectra data</p>
<p>The processing sequence for each decimation level is as below:</p>
<ol class="arabic">
<li><p class="first">Get shared (unmasked) windows for all relevant sites (inSite and outSite)</p>
</li>
<li><p class="first">For shared unmasked windows</p>
<blockquote>
<div><ul class="simple">
<li>Calculate out the cross-power spectra.</li>
<li>Interpolate calculated cross-power data to the evaluation frequencies for the decimation level.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">For each evaluation frequency</p>
<blockquote>
<div><ul class="simple">
<li>Do the robust processing to calculate the transfer function at that evaluation frequency.</li>
</ul>
</div></blockquote>
</li>
</ol>
<p>The spectral power data is smoothed as this tends to improve results. The smoothing can be changed by setting the smoothing parameters. This method is still subject to change in the future as it is an area of active work</p>
</dd></dl>

<dl class="method">
<dt id="resistics.regression.local.LocalRegressor.robustProcess">
<code class="descname">robustProcess</code><span class="sig-paren">(</span><em>self</em>, <em>numWindows: int</em>, <em>obs: numpy.ndarray</em>, <em>reg: numpy.ndarray</em><span class="sig-paren">)</span> &#x2192; Tuple[numpy.ndarray]<a class="reference internal" href="../_modules/resistics/regression/local.html#LocalRegressor.robustProcess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#resistics.regression.local.LocalRegressor.robustProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Robust regression processing</p>
<p>Perform robust regression processing using observations and regressors for a single evaluation frequency.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>numWindows</strong><span class="classifier">int</span></dt><dd><p>The number of windows</p>
</dd>
<dt><strong>obs</strong><span class="classifier">np.ndarray</span></dt><dd><p>The observations</p>
</dd>
<dt><strong>reg</strong><span class="classifier">np.ndarray</span></dt><dd><p>The regressors</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>output</strong><span class="classifier">np.ndarray</span></dt><dd><p>The solution to the regression problem</p>
</dd>
<dt><strong>varOutput</strong><span class="classifier">np.ndarray</span></dt><dd><p>The variance</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="resistics.regression.local.LocalRegressor.setInput">
<code class="descname">setInput</code><span class="sig-paren">(</span><em>self, inSite: str, inChannels: List[str]</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../_modules/resistics/regression/local.html#LocalRegressor.setInput"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#resistics.regression.local.LocalRegressor.setInput" title="Permalink to this definition">¶</a></dt>
<dd><p>Set information about input site and channels</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>inSite</strong><span class="classifier">str</span></dt><dd><p>Site to use for input channel data</p>
</dd>
<dt><strong>inChannels</strong><span class="classifier">List[str]</span></dt><dd><p>Channels to use as the input in the linear system</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="resistics.regression.local.LocalRegressor.setOutput">
<code class="descname">setOutput</code><span class="sig-paren">(</span><em>self, outSite: str, outChannels: List[str]</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../_modules/resistics/regression/local.html#LocalRegressor.setOutput"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#resistics.regression.local.LocalRegressor.setOutput" title="Permalink to this definition">¶</a></dt>
<dd><p>Set information about output site and channels</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>inSite</strong><span class="classifier">str</span></dt><dd><p>Site to use for output channel data</p>
</dd>
<dt><strong>inChannels</strong><span class="classifier">List[str]</span></dt><dd><p>Channels to use as the output in the linear system</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="resistics.regression.local.LocalRegressor.smoothSpectralEstimates">
<code class="descname">smoothSpectralEstimates</code><span class="sig-paren">(</span><em>self</em>, <em>data: numpy.ndarray</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/resistics/regression/local.html#LocalRegressor.smoothSpectralEstimates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#resistics.regression.local.LocalRegressor.smoothSpectralEstimates" title="Permalink to this definition">¶</a></dt>
<dd><p>Smooth spectral estimates across windows</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>data</strong><span class="classifier">np.ndarray</span></dt><dd><p>Cross-spectra data</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>data</strong><span class="classifier">np.ndarray</span></dt><dd><p>Smoothed cross-spectra data</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="resistics.regression.local.LocalRegressor.stackedProcess">
<code class="descname">stackedProcess</code><span class="sig-paren">(</span><em>self</em>, <em>data: numpy.ndarray</em><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="reference internal" href="../_modules/resistics/regression/local.html#LocalRegressor.stackedProcess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#resistics.regression.local.LocalRegressor.stackedProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Ordinary least squares processing after stacking</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>data</strong><span class="classifier">np.ndarray</span></dt><dd><p>Cross-spectra data</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>output</strong><span class="classifier">np.ndarray</span></dt><dd><p>The solution to the regression problem</p>
</dd>
<dt><strong>varOutput</strong><span class="classifier">np.ndarray</span></dt><dd><p>The variance</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="resistics.regression.local.LocalRegressor.writeTF">
<code class="descname">writeTF</code><span class="sig-paren">(</span><em>self</em>, <em>specdir: str</em>, <em>postpend: str</em>, <em>freq</em>, <em>data: numpy.ndarray</em>, <em>variances: numpy.ndarray</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/resistics/regression/local.html#LocalRegressor.writeTF"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#resistics.regression.local.LocalRegressor.writeTF" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the transfer function file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>specdir</strong><span class="classifier">str</span></dt><dd><p>The spectra data being used for the transfer function estimate</p>
</dd>
<dt><strong>postpend</strong><span class="classifier">str</span></dt><dd><p>The optional postpend to the transfer function file</p>
</dd>
<dt><strong>data</strong><span class="classifier">np.ndarray</span></dt><dd><p>The transfer function estimates</p>
</dd>
<dt><strong>variances</strong><span class="classifier">np.ndarray</span></dt><dd><p>The transfer function variances</p>
</dd>
<dt><strong>remotesite</strong><span class="classifier">str, optional</span></dt><dd><p>Optionally, if there is a remote site</p>
</dd>
<dt><strong>remotechans</strong><span class="classifier">List[str], optional</span></dt><dd><p>Optionally add the remote channels if there is a remote site</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="resistics.regression.remote.html" class="btn btn-neutral float-right" title="resistics.regression.remote module" accesskey="n" rel="next">Next</a>
      
      
        <a href="resistics.regression.html" class="btn btn-neutral" title="resistics.regression package" accesskey="p" rel="prev">Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Neeraj Shah.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/unitedstack/sphinx_rtd_theme">theme</a> provided by <a href="https://github.com/unitedstack">UnitedStack</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.0.6.dev3',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/language_data.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>